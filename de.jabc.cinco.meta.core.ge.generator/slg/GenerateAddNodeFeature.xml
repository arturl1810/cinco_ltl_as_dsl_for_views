<?xml version="1.0" encoding="ISO-8859-1"?>
<model version="2.1">
  <id>7def08b0-45b0-4f5d-9629-657ab3028508</id>
  <name>GenerateAddNodeFeature</name>
  <changecounter>1868</changecounter>
  <sib>
    <id>b89523ed-9916-4f61-a5e9-9e1d8838a845</id>
    <name>PutExpression_1</name>
    <label>PkgName</label>
    <sib-uid>basic-sibs/PutExpression</sib-uid>
    <taxonomy>de.jabc.sib.common.basic.PutExpression</taxonomy>
    <position>386.5,93.0</position>
    <parameter name="resolve">
      <boolean>true</boolean>
    </parameter>
    <parameter name="value">
      <de.metaframe.common.sib.parameter.ContextExpression>
        <ContextExpressionFoundation>
          <expression>${packageName}.graphiti.features.add</expression>
          <clazz>java.lang.Object</clazz>
          <classMutable>true</classMutable>
        </ContextExpressionFoundation>
      </de.metaframe.common.sib.parameter.ContextExpression>
    </parameter>
    <parameter name="variable">
      <de.metaframe.jabc.framework.sib.parameter.ContextKey>
        <ContextKeyFoundation>
          <key>localPkgName</key>
          <scope>LOCAL</scope>
          <scopeMutable>true</scopeMutable>
        </ContextKeyFoundation>
      </de.metaframe.jabc.framework.sib.parameter.ContextKey>
    </parameter>
    <finalbranches>default</finalbranches>
    <finalbranches>error</finalbranches>
  </sib>
  <edge>
    <source>b89523ed-9916-4f61-a5e9-9e1d8838a845</source>
    <target>48c311df-2317-4c6e-a9ef-0243b98a4f6f</target>
    <point>420.0,120.0</point>
    <point>525.0,120.0</point>
    <labelposition>500.0,0.0</labelposition>
    <branch>default</branch>
  </edge>
  <sib>
    <id>48c311df-2317-4c6e-a9ef-0243b98a4f6f</id>
    <name>PutExpression_2</name>
    <label>ClassName</label>
    <sib-uid>basic-sibs/PutExpression</sib-uid>
    <taxonomy>de.jabc.sib.common.basic.PutExpression</taxonomy>
    <position>485.5,93.0</position>
    <parameter name="resolve">
      <boolean>true</boolean>
    </parameter>
    <parameter name="value">
      <de.metaframe.common.sib.parameter.ContextExpression>
        <ContextExpressionFoundation>
          <expression>Add${modelElementName}Feature</expression>
          <clazz>java.lang.Object</clazz>
          <classMutable>true</classMutable>
        </ContextExpressionFoundation>
      </de.metaframe.common.sib.parameter.ContextExpression>
    </parameter>
    <parameter name="variable">
      <de.metaframe.jabc.framework.sib.parameter.ContextKey>
        <ContextKeyFoundation>
          <key>className</key>
          <scope>LOCAL</scope>
          <scopeMutable>true</scopeMutable>
        </ContextKeyFoundation>
      </de.metaframe.jabc.framework.sib.parameter.ContextKey>
    </parameter>
    <finalbranches>default</finalbranches>
    <finalbranches>error</finalbranches>
  </sib>
  <edge>
    <source>48c311df-2317-4c6e-a9ef-0243b98a4f6f</source>
    <target>5814d032-c924-4985-aeca-fd4deeba15f3</target>
    <point>525.0,120.0</point>
    <point>720.0,120.0</point>
    <labelposition>500.0,0.0</labelposition>
    <branch>default</branch>
  </edge>
  <sib>
    <id>514d2abb-2516-42a7-9c91-c09504f10dda</id>
    <name>RunStringTemplate</name>
    <label>RunStringTemplate</label>
    <sib-uid>script-sibs/RunStringTemplate</sib-uid>
    <taxonomy>de.jabc.sib.common.script.RunStringTemplate</taxonomy>
    <position>55.0,858.0</position>
    <parameter name="append">
      <boolean>false</boolean>
    </parameter>
    <parameter name="individualVariables">
      <boolean>false</boolean>
    </parameter>
    <parameter name="result">
      <de.metaframe.jabc.framework.sib.parameter.ContextKey>
        <ContextKeyFoundation>
          <key>addNodeFeatureContent</key>
          <scope>LOCAL</scope>
          <scopeMutable>true</scopeMutable>
        </ContextKeyFoundation>
      </de.metaframe.jabc.framework.sib.parameter.ContextKey>
    </parameter>
    <parameter name="template">
      <string>package $context.localPkgName$;

import java.util.ArrayList;

import de.jabc.cinco.meta.core.ge.style.model.features.CincoAbstractAddFeature;

import $context.packageName$.graphiti.*;
import $context.packageName$.graphiti.expression.*;
import $context.packageName$.graphiti.features.layout.*;

import org.eclipse.emf.ecore.EObject;

import org.eclipse.graphiti.features.*;
import org.eclipse.graphiti.features.context.IAddContext;
import org.eclipse.graphiti.features.context.impl.ResizeShapeContext;
import org.eclipse.graphiti.features.impl.*;
import org.eclipse.graphiti.mm.algorithms.*;
import org.eclipse.graphiti.mm.algorithms.styles.Point;
import org.eclipse.graphiti.mm.algorithms.styles.*;
import org.eclipse.graphiti.mm.pictograms.*;
import org.eclipse.graphiti.services.*;
import org.eclipse.graphiti.util.*;
import org.eclipse.emf.ecore.util.EcoreUtil;
import com.sun.el.ExpressionFactoryImpl;

public class Add$context.modelElementName$Feature extends CincoAbstractAddFeature {
	
	private ExpressionFactoryImpl factory = new ExpressionFactoryImpl();
	private ExpressionLanguageContext elContext = null;

	public Add$context.modelElementName$Feature(IFeatureProvider fp) {
		super(fp);
	}
	
	public boolean canAdd(IAddContext context) {
		Object bo = context.getNewObject();
		Object target = getBusinessObjectForPictogramElement(context.getTargetContainer());
		if (bo instanceof $context.importPath$.$context.modelElementName$) {
			return true;
		}
		return false;
	}

	public PictogramElement add(IAddContext context) {
		$context.importPath$.$context.modelElementName$ $context.meIdentifier$ = ($context.importPath$.$context.modelElementName$) context.getNewObject();
		if ($context.meIdentifier$.getId() == null || $context.meIdentifier$.getId().isEmpty())
			$context.meIdentifier$.setId(EcoreUtil.generateUUID());
		ContainerShape d = (ContainerShape) context.getTargetContainer();

		IPeService peService = Graphiti.getPeService();
		IGaService gaService = Graphiti.getGaService();
		
		ArrayList&lt;Shape&gt; linkingList = new ArrayList&lt;Shape&gt;();

		boolean parentIsDiagram = false;
		int width = 0,  height = 0, minX = 0, minY = 0;

		ClassLoader contextClassLoader;

		$context.graphicalRep$

		linkAllShapes($context.rootShapeName$, $context.meIdentifier$);
		//link($context.rootShapeName$, $context.meIdentifier$);


		if (context.getWidth() != -1 &amp;&amp; context.getHeight() != -1)  {
			ResizeShapeContext rc = new ResizeShapeContext($context.rootShapeName$);
			rc.setWidth(context.getWidth());
			rc.setHeight(context.getHeight());
			rc.setX(context.getX());
			rc.setY(context.getY());
			IResizeShapeFeature rf = getFeatureProvider().getResizeShapeFeature(rc);
			if (rf != null &amp;&amp; rf.canResizeShape(rc))
			rf.resizeShape(rc);
		} else if (parentIsDiagram)  {
			ResizeShapeContext rc = new ResizeShapeContext($context.rootShapeName$);
			rc.setWidth(width);
			rc.setHeight(height);
			rc.setX(context.getX() + minX);
			rc.setY(context.getY() + minY);
			IResizeShapeFeature rf = getFeatureProvider().getResizeShapeFeature(rc);
			if (rf != null &amp;&amp; rf.canResizeShape(rc))
				rf.resizeShape(rc);
		}

		/*if (context.getWidth() != -1 &amp;&amp; context.getHeight() != -1)  {
			ResizeShapeContext rc = new ResizeShapeContext($context.rootShapeName$);
			rc.setWidth(context.getWidth());
			rc.setHeight(context.getHeight());
			rc.setX(context.getX());
			rc.setY(context.getY());
			IResizeShapeFeature rf = getFeatureProvider().getResizeShapeFeature(rc);
			if (rf != null &amp;&amp; rf.canResizeShape(rc))
				rf.resizeShape(rc);
		}*/

		peService.createChopboxAnchor($context.rootShapeName$);
		layoutPictogramElement($context.rootShapeName$);
		
		$context.postCreateHookContent$

		return $context.rootShapeName$;
	}

	private void linkAllShapes(Shape s, EObject eObject) {
		link(s, eObject);
		if (s instanceof ContainerShape)
			((ContainerShape) s).getChildren().forEach(c -&gt; linkAllShapes(c, eObject));
	}
}</string>
    </parameter>
    <finalbranches>default</finalbranches>
    <finalbranches>error</finalbranches>
  </sib>
  <edge>
    <source>51744bc1-64c3-487b-8560-75f89ca4f78e</source>
    <target>2d0994da-dc0e-48ac-8053-59480260e4b6</target>
    <point>1065.0,105.0</point>
    <point>1065.0,240.0</point>
    <labelposition>514.8349956844879,-2.9768456393321614</labelposition>
    <branch>default</branch>
  </edge>
  <edge>
    <source>514d2abb-2516-42a7-9c91-c09504f10dda</source>
    <target>14638ad3-47f5-47d9-a057-7e754a7e0b27</target>
    <point>117.0,889.0</point>
    <point>117.0,994.0</point>
    <labelposition>500.0,0.0</labelposition>
    <branch>default</branch>
  </edge>
  <sib>
    <id>14638ad3-47f5-47d9-a057-7e754a7e0b27</id>
    <name>WriteJavaFile</name>
    <label>WriteJavaFile</label>
    <sib-uid>genesys-sibs/WriteJavaFile</sib-uid>
    <taxonomy>de.jabc.sib.genesys.WriteJavaFile</taxonomy>
    <position>73.0,963.0</position>
    <parameter name="baseDirectory">
      <de.metaframe.jabc.framework.sib.parameter.ContextKey>
        <ContextKeyFoundation>
          <key>outletPath</key>
          <scope>GLOBAL</scope>
          <scopeMutable>true</scopeMutable>
        </ContextKeyFoundation>
      </de.metaframe.jabc.framework.sib.parameter.ContextKey>
    </parameter>
    <parameter name="beautify">
      <boolean>false</boolean>
    </parameter>
    <parameter name="beautifyMethod">
      <de.metaframe.common.sib.parameter.ListBox>
        <ListBoxFoundation>
          <list>
            <string>Eclipse</string>
            <string>Jalopy</string>
          </list>
          <selected>0</selected>
        </ListBoxFoundation>
      </de.metaframe.common.sib.parameter.ListBox>
    </parameter>
    <parameter name="className">
      <de.metaframe.jabc.framework.sib.parameter.ContextKey>
        <ContextKeyFoundation>
          <key>className</key>
          <scope>LOCAL</scope>
          <scopeMutable>true</scopeMutable>
        </ContextKeyFoundation>
      </de.metaframe.jabc.framework.sib.parameter.ContextKey>
    </parameter>
    <parameter name="fileContent">
      <de.metaframe.jabc.framework.sib.parameter.ContextKey>
        <ContextKeyFoundation>
          <key>addNodeFeatureContent</key>
          <scope>LOCAL</scope>
          <scopeMutable>true</scopeMutable>
        </ContextKeyFoundation>
      </de.metaframe.jabc.framework.sib.parameter.ContextKey>
    </parameter>
    <parameter name="packageName">
      <de.metaframe.jabc.framework.sib.parameter.ContextKey>
        <ContextKeyFoundation>
          <key>localPkgName</key>
          <scope>LOCAL</scope>
          <scopeMutable>true</scopeMutable>
        </ContextKeyFoundation>
      </de.metaframe.jabc.framework.sib.parameter.ContextKey>
    </parameter>
    <finalbranches>default</finalbranches>
    <finalbranches>error</finalbranches>
  </sib>
  <sib>
    <id>5814d032-c924-4985-aeca-fd4deeba15f3</id>
    <name>GraphSIB</name>
    <label>CheckStyleAnnotation</label>
    <sib-uid>00000000:00000000000000000000:0000000000011</sib-uid>
    <taxonomy>de.metaframe.jabc.sib.GraphSIB</taxonomy>
    <position>647.0,91.0</position>
    <parameter name="modelElementKey">
      <de.metaframe.jabc.framework.sib.parameter.ContextKey>
        <ContextKeyFoundation>
          <key>node</key>
          <scope>DECLARED</scope>
          <scopeMutable>true</scopeMutable>
        </ContextKeyFoundation>
      </de.metaframe.jabc.framework.sib.parameter.ContextKey>
    </parameter>
    <finalbranches>default</finalbranches>
    <finalbranches>error</finalbranches>
    <userobject key="ABC$GRAPHSIB$MODELNAME">
      <string>CheckStyleAnnotation</string>
    </userobject>
    <userobject key="ABC$GRAPHSIB$MODELID">
      <string>843b7fe1-9b8e-4b49-94ab-777e60336bda</string>
    </userobject>
  </sib>
  <edge>
    <source>5814d032-c924-4985-aeca-fd4deeba15f3</source>
    <target>5127d0fa-c7eb-4024-a7c5-a223d3c0db33</target>
    <point>917.3255813953489,266.0</point>
    <point>927.5675675675676,348.0</point>
    <labelposition>500.0,0.0</labelposition>
    <branch>default</branch>
  </edge>
  <sib>
    <id>41593b09-8ee0-4638-9e7e-9e90f7405015</id>
    <name>PutExpression_3</name>
    <label>SetParentName</label>
    <sib-uid>basic-sibs/PutExpression</sib-uid>
    <taxonomy>de.jabc.sib.common.basic.PutExpression</taxonomy>
    <position>351.5,228.0</position>
    <parameter name="resolve">
      <boolean>true</boolean>
    </parameter>
    <parameter name="value">
      <de.metaframe.common.sib.parameter.ContextExpression>
        <ContextExpressionFoundation>
          <expression>d</expression>
          <clazz>java.lang.Object</clazz>
          <classMutable>true</classMutable>
        </ContextExpressionFoundation>
      </de.metaframe.common.sib.parameter.ContextExpression>
    </parameter>
    <parameter name="variable">
      <de.metaframe.jabc.framework.sib.parameter.ContextKey>
        <ContextKeyFoundation>
          <key>parentName</key>
          <scope>LOCAL</scope>
          <scopeMutable>true</scopeMutable>
        </ContextKeyFoundation>
      </de.metaframe.jabc.framework.sib.parameter.ContextKey>
    </parameter>
    <finalbranches>default</finalbranches>
    <finalbranches>error</finalbranches>
  </sib>
  <edge>
    <source>41593b09-8ee0-4638-9e7e-9e90f7405015</source>
    <target>dbad13c4-2374-4c8e-bd0d-8863a519e4a5</target>
    <point>387.0,247.2</point>
    <point>288.0,247.2</point>
    <labelposition>500.0,0.0</labelposition>
    <branch>default</branch>
  </edge>
  <edge>
    <source>296012e1-d2e0-4228-9d8c-ede42d53b69c</source>
    <target>fe24d92a-f68f-432e-8322-e04657863492</target>
    <point>120.0,266.0</point>
    <point>120.0,528.0</point>
    <labelposition>500.0,0.0</labelposition>
    <branch>default</branch>
  </edge>
  <sib>
    <id>2d0994da-dc0e-48ac-8053-59480260e4b6</id>
    <name>PutExpression_4</name>
    <label>CopyRootShape</label>
    <sib-uid>basic-sibs/PutExpression</sib-uid>
    <taxonomy>de.jabc.sib.common.basic.PutExpression</taxonomy>
    <position>1025.5,228.0</position>
    <parameter name="resolve">
      <boolean>true</boolean>
    </parameter>
    <parameter name="value">
      <de.metaframe.common.sib.parameter.ContextExpression>
        <ContextExpressionFoundation>
          <expression>${currentShape}</expression>
          <clazz>java.lang.Object</clazz>
          <classMutable>true</classMutable>
        </ContextExpressionFoundation>
      </de.metaframe.common.sib.parameter.ContextExpression>
    </parameter>
    <parameter name="variable">
      <de.metaframe.jabc.framework.sib.parameter.ContextKey>
        <ContextKeyFoundation>
          <key>rootShape</key>
          <scope>LOCAL</scope>
          <scopeMutable>true</scopeMutable>
        </ContextKeyFoundation>
      </de.metaframe.jabc.framework.sib.parameter.ContextKey>
    </parameter>
    <finalbranches>default</finalbranches>
    <finalbranches>error</finalbranches>
  </sib>
  <edge>
    <source>2d0994da-dc0e-48ac-8053-59480260e4b6</source>
    <target>710f8e6c-9a8f-45ac-85d3-1d054148dfe7</target>
    <point>1062.0,252.7304347826087</point>
    <point>753.0,360.2086956521739</point>
    <labelposition>500.0,0.0</labelposition>
    <branch>default</branch>
  </edge>
  <sib>
    <id>fe24d92a-f68f-432e-8322-e04657863492</id>
    <name>GetNodePrimeReference</name>
    <label>GetNodePrimeReference</label>
    <sib-uid>mgl/mgl/GetNodePrimeReference</sib-uid>
    <taxonomy>de.jabc.cinco.meta.core.ge.sib.mgl.GetNodePrimeReference</taxonomy>
    <position>41.0,333.0</position>
    <parameter name="nodeKey">
      <de.metaframe.jabc.framework.sib.parameter.ContextKey>
        <ContextKeyFoundation>
          <key>node</key>
          <scope>DECLARED</scope>
          <scopeMutable>true</scopeMutable>
        </ContextKeyFoundation>
      </de.metaframe.jabc.framework.sib.parameter.ContextKey>
    </parameter>
    <parameter name="nodeprimeReferenceKey">
      <de.metaframe.jabc.framework.sib.parameter.ContextKey>
        <ContextKeyFoundation>
          <key>primeRef</key>
          <scope>LOCAL</scope>
          <scopeMutable>true</scopeMutable>
        </ContextKeyFoundation>
      </de.metaframe.jabc.framework.sib.parameter.ContextKey>
    </parameter>
    <finalbranches>default</finalbranches>
    <finalbranches>error</finalbranches>
  </sib>
  <sib>
    <id>34bac75f-5a18-400f-9ae2-f09f6cc9ecaa</id>
    <name>CheckVariable</name>
    <label>isPrimeRef</label>
    <sib-uid>basic-sibs/CheckVariable</sib-uid>
    <taxonomy>de.jabc.sib.common.basic.CheckVariable</taxonomy>
    <position>82.0,738.0</position>
    <parameter name="variable">
      <de.metaframe.jabc.framework.sib.parameter.ContextKey>
        <ContextKeyFoundation>
          <key>primeRef</key>
          <scope>LOCAL</scope>
          <scopeMutable>true</scopeMutable>
        </ContextKeyFoundation>
      </de.metaframe.jabc.framework.sib.parameter.ContextKey>
    </parameter>
    <finalbranches>emptyString</finalbranches>
    <finalbranches>error</finalbranches>
    <finalbranches>false</finalbranches>
    <finalbranches>true</finalbranches>
  </sib>
  <edge>
    <source>fe24d92a-f68f-432e-8322-e04657863492</source>
    <target>7fb47318-a83d-4813-b386-01e79a68e99a</target>
    <point>120.0,369.0</point>
    <point>120.0,511.0</point>
    <labelposition>500.0,-7.0</labelposition>
    <branch>default</branch>
  </edge>
  <edge>
    <source>34bac75f-5a18-400f-9ae2-f09f6cc9ecaa</source>
    <target>514d2abb-2516-42a7-9c91-c09504f10dda</target>
    <point>117.0,769.0</point>
    <point>117.0,889.0</point>
    <labelposition>500.0,0.0</labelposition>
    <branch>false</branch>
  </edge>
  <sib>
    <id>814245de-6dc8-4511-b290-69abaa62e6a8</id>
    <name>RunStringTemplate_1</name>
    <label>RunStringTemplate</label>
    <sib-uid>script-sibs/RunStringTemplate</sib-uid>
    <taxonomy>de.jabc.sib.common.script.RunStringTemplate</taxonomy>
    <position>280.0,963.0</position>
    <parameter name="append">
      <boolean>false</boolean>
    </parameter>
    <parameter name="individualVariables">
      <boolean>false</boolean>
    </parameter>
    <parameter name="result">
      <de.metaframe.jabc.framework.sib.parameter.ContextKey>
        <ContextKeyFoundation>
          <key>addNodeFeatureContent</key>
          <scope>LOCAL</scope>
          <scopeMutable>true</scopeMutable>
        </ContextKeyFoundation>
      </de.metaframe.jabc.framework.sib.parameter.ContextKey>
    </parameter>
    <parameter name="template">
      <string>package $context.localPkgName$;

import graphmodel.ModelElementContainer;

import java.util.ArrayList;

import $context.packageName$.graphiti.*;
import $context.packageName$.graphiti.expression.*;
import $context.packageName$.graphiti.features.layout.*;

import de.jabc.cinco.meta.core.ge.style.model.features.CincoAbstractAddFeature;
import de.jabc.cinco.meta.core.referenceregistry.*;

import java.util.UUID;

import org.eclipse.emf.ecore.*;

import org.eclipse.graphiti.features.*;
import org.eclipse.graphiti.features.context.IAddContext;
import org.eclipse.graphiti.features.context.impl.ResizeShapeContext;
import org.eclipse.graphiti.features.impl.*;
import org.eclipse.graphiti.mm.algorithms.*;
import org.eclipse.graphiti.mm.algorithms.styles.Point;
import org.eclipse.graphiti.mm.algorithms.styles.*;
import org.eclipse.graphiti.mm.pictograms.*;
import org.eclipse.graphiti.services.*;
import org.eclipse.graphiti.util.*;

import com.sun.el.ExpressionFactoryImpl;
import org.eclipse.emf.ecore.util.EcoreUtil;

$context.cincoErrorImport$

public class Add$context.modelElementName$Feature extends CincoAbstractAddFeature {
	
	$context.cincoErrorField$

	private ExpressionFactoryImpl factory = new ExpressionFactoryImpl();
	private ExpressionLanguageContext elContext = null;

	public Add$context.modelElementName$Feature(IFeatureProvider fp) {
		super(fp);
	}
	
	@Override
	public String getName() {
		return &quot;$context.addFeatureName$&quot;;
	}

	public boolean canAdd(IAddContext context) {
		if ( !(context.getNewObject() instanceof EObject))
			return false;
		EObject bo;
		if (context.getNewObject() instanceof $context.importPath$.$context.modelElementName$) {
			String uid = (($context.importPath$.$context.modelElementName$) context.getNewObject()).getLibraryComponentUID();
			bo = ReferenceRegistry.getInstance().getEObject(uid);
		} else {
			bo = (EObject) context.getNewObject();
		}
		if (bo == null)
			return true;

		EClass eClass = bo.eClass();
		Object target = getBusinessObjectForPictogramElement(context.getTargetContainer());
		if (eClass.getName().equals(&quot;$context.primeRefType.name$&quot;) 
			|| (eClass.getEAllSuperTypes().stream().anyMatch(_superClass -&gt; _superClass.getName().equals(&quot;$context.primeRefType.name$&quot;)))
			&amp;&amp; eClass.getEPackage().getNsURI().equals(&quot;$context.nsURI$&quot;)){
			return canAddToTarget(target);
		}
		return false;
	}

	public PictogramElement add(IAddContext context) {
		EObject bo;
		$context.importPath$.$context.modelElementName$ $context.meIdentifier$ = null;
		if (context.getNewObject() instanceof $context.importPath$.$context.modelElementName$) {
			String uid = (($context.importPath$.$context.modelElementName$) context.getNewObject()).getLibraryComponentUID();
			bo = ReferenceRegistry.getInstance().getEObject(uid);
			$context.meIdentifier$ = ($context.importPath$.$context.modelElementName$) context.getNewObject();
		} else {
			bo = (EObject) context.getNewObject();
			$context.meIdentifier$ = $context.importPath$.$context.factoryName$Factory.eINSTANCE.create$context.modelElementName$();
			ReferenceRegistry.getInstance().addElement(bo);
			$context.meIdentifier$.setLibraryComponentUID(EcoreUtil.getID(bo));
			$context.primeParamContent$
		}
		if ($context.meIdentifier$.getId() == null || $context.meIdentifier$.getId().isEmpty())
			$context.meIdentifier$.setId(EcoreUtil.generateUUID());
		ContainerShape d = (ContainerShape) context.getTargetContainer();

		IPeService peService = Graphiti.getPeService();
		IGaService gaService = Graphiti.getGaService();

		//String objectUri = ReferenceRegistry.getInstance().generateURI(bo);
		//int id = ReferenceRegistry.getInstance().getKey(objectUri);

		//$context.meIdentifier$.set$context.fuPrimeRefTypeName$UID(Integer.toString(id));
		
		//ReferenceRegistry.getInstance().addElement(id, objectUri);

		ModelElementContainer container = (ModelElementContainer) getBusinessObjectForPictogramElement(context.getTargetContainer());
		container.getModelElements().add($context.meIdentifier$);

		ArrayList&lt;Shape&gt; linkingList = new ArrayList&lt;Shape&gt;();

		boolean parentIsDiagram = false;
		int width = 0,  height = 0, minX = 0, minY = 0;
		
		ClassLoader contextClassLoader;

		$context.graphicalRep$

		linkAllShapes($context.rootShapeName$, $context.meIdentifier$);
	
		if (context.getWidth() != -1 &amp;&amp; context.getHeight() != -1)  {
			ResizeShapeContext rc = new ResizeShapeContext(Shape0);
			rc.setWidth(context.getWidth());
			rc.setHeight(context.getHeight());
			rc.setX(context.getX());
			rc.setY(context.getY());
			IResizeShapeFeature rf = getFeatureProvider().getResizeShapeFeature(rc);
			if (rf != null &amp;&amp; rf.canResizeShape(rc))
			rf.resizeShape(rc);
		} else if (parentIsDiagram)  {
			ResizeShapeContext rc = new ResizeShapeContext(Shape0);
			rc.setWidth(width);
			rc.setHeight(height);
			rc.setX(context.getX() + minX);
			rc.setY(context.getY() + minY);
			IResizeShapeFeature rf = getFeatureProvider().getResizeShapeFeature(rc);
			if (rf != null &amp;&amp; rf.canResizeShape(rc))
				rf.resizeShape(rc);
		}

		/*if (context.getWidth() != -1 &amp;&amp; context.getHeight() != -1)  {
			ResizeShapeContext rc = new ResizeShapeContext($context.rootShapeName$);
			rc.setWidth(context.getWidth());
			rc.setHeight(context.getHeight());
			rc.setX(context.getX());
			rc.setY(context.getY());
			IResizeShapeFeature rf = getFeatureProvider().getResizeShapeFeature(rc);
			if (rf != null &amp;&amp; rf.canResizeShape(rc))
				rf.resizeShape(rc);
		}*/

		
		peService.createChopboxAnchor($context.rootShapeName$);
		layoutPictogramElement($context.rootShapeName$);

		$context.postCreateHookContent$

		return $context.rootShapeName$;

	}

	private boolean canAddToTarget(Object target) {
		$!context.containerCheck!$
		if (!(target instanceof graphmodel.ModelElementContainer))
			return false;
		graphmodel.ModelElementContainer _mContainer = (graphmodel.ModelElementContainer) target;
		if (_mContainer.canContain($context.importPath$.$context.modelElementName$.class))
			return true;
		if ($context.cincoErrorCheckOk$)
			$context.cincoErrorMaxCardinality$
		return false;
	}
	
	private void linkAllShapes(Shape s, EObject eObject) {
		link(s, eObject);
		if (s instanceof ContainerShape)
			((ContainerShape) s).getChildren().forEach(c -&gt; linkAllShapes(c, eObject));
	}

	$context.cincoErrorGetSet$
}</string>
    </parameter>
    <finalbranches>default</finalbranches>
    <finalbranches>error</finalbranches>
  </sib>
  <sib>
    <id>ccabf017-ba9d-4d9c-94a0-bb4ed47671df</id>
    <name>GetReferencedTypeName</name>
    <label>GetReferencedTypeName</label>
    <sib-uid>mgl/mgl/GetReferencedTypeName</sib-uid>
    <taxonomy>de.jabc.cinco.meta.core.ge.sib.mgl.GetReferencedTypeName</taxonomy>
    <position>185.0,738.0</position>
    <parameter name="referencedTypeKey">
      <de.metaframe.jabc.framework.sib.parameter.ContextKey>
        <ContextKeyFoundation>
          <key>primeRef</key>
          <scope>LOCAL</scope>
          <scopeMutable>true</scopeMutable>
        </ContextKeyFoundation>
      </de.metaframe.jabc.framework.sib.parameter.ContextKey>
    </parameter>
    <parameter name="referencedTypenameKey">
      <de.metaframe.jabc.framework.sib.parameter.ContextKey>
        <ContextKeyFoundation>
          <key>primeRefTypeName</key>
          <scope>LOCAL</scope>
          <scopeMutable>true</scopeMutable>
        </ContextKeyFoundation>
      </de.metaframe.jabc.framework.sib.parameter.ContextKey>
    </parameter>
    <finalbranches>default</finalbranches>
    <finalbranches>error</finalbranches>
  </sib>
  <edge>
    <source>34bac75f-5a18-400f-9ae2-f09f6cc9ecaa</source>
    <target>ccabf017-ba9d-4d9c-94a0-bb4ed47671df</target>
    <point>117.0,769.0</point>
    <point>267.0,769.0</point>
    <labelposition>500.0,0.0</labelposition>
    <branch>true</branch>
  </edge>
  <edge>
    <source>ccabf017-ba9d-4d9c-94a0-bb4ed47671df</source>
    <target>a1b068e2-d31f-4aef-bd26-23ef5cb004d8</target>
    <point>288.0,746.4</point>
    <point>432.0,662.4</point>
    <labelposition>500.0,0.0</labelposition>
    <branch>default</branch>
  </edge>
  <edge>
    <source>a1b068e2-d31f-4aef-bd26-23ef5cb004d8</source>
    <target>36303ded-1e06-47a6-9ae1-5743e625e9a4</target>
    <point>468.0,655.32</point>
    <point>657.0,693.12</point>
    <labelposition>500.0,0.0</labelposition>
    <branch>default</branch>
  </edge>
  <edge>
    <source>814245de-6dc8-4511-b290-69abaa62e6a8</source>
    <target>14638ad3-47f5-47d9-a057-7e754a7e0b27</target>
    <point>282.0,994.0</point>
    <point>117.0,994.0</point>
    <labelposition>500.0,0.0</labelposition>
    <branch>default</branch>
  </edge>
  <sib>
    <id>a3fb0cb1-eed7-49d8-b374-904b3026f7bb</id>
    <name>GetEClassName</name>
    <label>GetEClassName</label>
    <sib-uid>ecore/ecore/GetEClassName</sib-uid>
    <taxonomy>transem.ecore.sib.ecore.GetEClassName</taxonomy>
    <position>875.5,738.0</position>
    <parameter name="eClassKey">
      <de.metaframe.jabc.framework.sib.parameter.ContextKey>
        <ContextKeyFoundation>
          <key>primeRefType</key>
          <scope>LOCAL</scope>
          <scopeMutable>true</scopeMutable>
        </ContextKeyFoundation>
      </de.metaframe.jabc.framework.sib.parameter.ContextKey>
    </parameter>
    <parameter name="eClassnameKey">
      <de.metaframe.jabc.framework.sib.parameter.ContextKey>
        <ContextKeyFoundation>
          <key>eClassName</key>
          <scope>LOCAL</scope>
          <scopeMutable>true</scopeMutable>
        </ContextKeyFoundation>
      </de.metaframe.jabc.framework.sib.parameter.ContextKey>
    </parameter>
    <finalbranches>default</finalbranches>
    <finalbranches>error</finalbranches>
  </sib>
  <sib>
    <id>8100b149-2197-49c7-aff7-6e07b2444a75</id>
    <name>FormatIdentifier_1</name>
    <label>FormatIdentifier</label>
    <sib-uid>genesys-sibs/FormatIdentifier</sib-uid>
    <taxonomy>de.jabc.sib.genesys.FormatIdentifier</taxonomy>
    <position>1009.0,738.0</position>
    <parameter name="identifier">
      <de.metaframe.jabc.framework.sib.parameter.ContextKey>
        <ContextKeyFoundation>
          <key>eClassName</key>
          <scope>LOCAL</scope>
          <scopeMutable>true</scopeMutable>
        </ContextKeyFoundation>
      </de.metaframe.jabc.framework.sib.parameter.ContextKey>
    </parameter>
    <parameter name="identifierLC">
      <de.metaframe.jabc.framework.sib.parameter.ContextKey>
        <ContextKeyFoundation>
          <key>flEClassName</key>
          <scope>LOCAL</scope>
          <scopeMutable>true</scopeMutable>
        </ContextKeyFoundation>
      </de.metaframe.jabc.framework.sib.parameter.ContextKey>
    </parameter>
    <parameter name="identifierUC">
      <de.metaframe.jabc.framework.sib.parameter.ContextKey>
        <ContextKeyFoundation>
          <key>fuEClassName</key>
          <scope>LOCAL</scope>
          <scopeMutable>true</scopeMutable>
        </ContextKeyFoundation>
      </de.metaframe.jabc.framework.sib.parameter.ContextKey>
    </parameter>
    <finalbranches>default</finalbranches>
    <finalbranches>error</finalbranches>
  </sib>
  <edge>
    <source>a3fb0cb1-eed7-49d8-b374-904b3026f7bb</source>
    <target>8100b149-2197-49c7-aff7-6e07b2444a75</target>
    <point>897.0,994.0</point>
    <point>717.0,994.0</point>
    <labelposition>500.0,0.0</labelposition>
    <branch>default</branch>
  </edge>
  <edge>
    <source>8100b149-2197-49c7-aff7-6e07b2444a75</source>
    <target>133d9178-21cb-4caf-adc1-01eaed0b66e7</target>
    <point>717.0,994.0</point>
    <point>507.0,994.0</point>
    <labelposition>500.0,0.0</labelposition>
    <branch>default</branch>
  </edge>
  <sib>
    <id>133d9178-21cb-4caf-adc1-01eaed0b66e7</id>
    <name>FormatIdentifier_2</name>
    <label>FormatIdentifier</label>
    <sib-uid>genesys-sibs/FormatIdentifier</sib-uid>
    <taxonomy>de.jabc.sib.genesys.FormatIdentifier</taxonomy>
    <position>1009.0,963.0</position>
    <parameter name="identifier">
      <de.metaframe.jabc.framework.sib.parameter.ContextKey>
        <ContextKeyFoundation>
          <key>primeRefTypeName</key>
          <scope>LOCAL</scope>
          <scopeMutable>true</scopeMutable>
        </ContextKeyFoundation>
      </de.metaframe.jabc.framework.sib.parameter.ContextKey>
    </parameter>
    <parameter name="identifierLC">
      <de.metaframe.jabc.framework.sib.parameter.ContextKey>
        <ContextKeyFoundation>
          <key>flPrimeRefTypeName</key>
          <scope>LOCAL</scope>
          <scopeMutable>true</scopeMutable>
        </ContextKeyFoundation>
      </de.metaframe.jabc.framework.sib.parameter.ContextKey>
    </parameter>
    <parameter name="identifierUC">
      <de.metaframe.jabc.framework.sib.parameter.ContextKey>
        <ContextKeyFoundation>
          <key>fuPrimeRefTypeName</key>
          <scope>LOCAL</scope>
          <scopeMutable>true</scopeMutable>
        </ContextKeyFoundation>
      </de.metaframe.jabc.framework.sib.parameter.ContextKey>
    </parameter>
    <finalbranches>default</finalbranches>
    <finalbranches>error</finalbranches>
  </sib>
  <edge>
    <source>133d9178-21cb-4caf-adc1-01eaed0b66e7</source>
    <target>01a08f28-05d8-4f4f-9acd-7ccfca84f693</target>
    <point>1047.0,981.3272727272728</point>
    <point>590.0,981.3636363636364</point>
    <labelposition>500.0,0.0</labelposition>
    <branch>default</branch>
  </edge>
  <sib>
    <id>3dba0534-f2fc-402e-a00f-614a1753c864</id>
    <name>GetNodeIsAbstract</name>
    <label>GetNodeIsAbstract</label>
    <sib-uid>mgl/mgl/GetNodeIsAbstract</sib-uid>
    <taxonomy>de.jabc.cinco.meta.core.ge.sib.mgl.GetNodeIsAbstract</taxonomy>
    <position>57.5,93.0</position>
    <parameter name="nodeKey">
      <de.metaframe.jabc.framework.sib.parameter.ContextKey>
        <ContextKeyFoundation>
          <key>node</key>
          <scope>DECLARED</scope>
          <scopeMutable>true</scopeMutable>
        </ContextKeyFoundation>
      </de.metaframe.jabc.framework.sib.parameter.ContextKey>
    </parameter>
    <parameter name="nodeisAbstractKey">
      <de.metaframe.jabc.framework.sib.parameter.ContextKey>
        <ContextKeyFoundation>
          <key>nodeIsAbstract</key>
          <scope>LOCAL</scope>
          <scopeMutable>true</scopeMutable>
        </ContextKeyFoundation>
      </de.metaframe.jabc.framework.sib.parameter.ContextKey>
    </parameter>
    <finalbranches>default</finalbranches>
    <finalbranches>error</finalbranches>
    <userobject key="ABC$START">
      <boolean>true</boolean>
    </userobject>
  </sib>
  <edge>
    <source>3dba0534-f2fc-402e-a00f-614a1753c864</source>
    <target>0600d8c7-2c7d-427c-b19c-0df44df02475</target>
    <point>138.0,111.98181818181818</point>
    <point>267.0,111.98181818181818</point>
    <labelposition>500.0,0.0</labelposition>
    <branch>default</branch>
  </edge>
  <sib>
    <id>0600d8c7-2c7d-427c-b19c-0df44df02475</id>
    <name>EvaluateBoolean</name>
    <label>EvaluateBoolean</label>
    <sib-uid>basic-sibs/EvaluateBoolean</sib-uid>
    <taxonomy>de.jabc.sib.common.basic.EvaluateBoolean</taxonomy>
    <position>226.5,93.0</position>
    <parameter name="bool">
      <de.metaframe.jabc.framework.sib.parameter.ContextKey>
        <ContextKeyFoundation>
          <key>nodeIsAbstract</key>
          <scope>LOCAL</scope>
          <scopeMutable>true</scopeMutable>
        </ContextKeyFoundation>
      </de.metaframe.jabc.framework.sib.parameter.ContextKey>
    </parameter>
    <finalbranches>error</finalbranches>
    <finalbranches>false</finalbranches>
    <finalbranches>true</finalbranches>
  </sib>
  <edge>
    <source>0600d8c7-2c7d-427c-b19c-0df44df02475</source>
    <target>b89523ed-9916-4f61-a5e9-9e1d8838a845</target>
    <point>285.0,120.0</point>
    <point>420.0,120.0</point>
    <labelposition>500.0,0.0</labelposition>
    <branch>false</branch>
  </edge>
  <sib>
    <id>5127d0fa-c7eb-4024-a7c5-a223d3c0db33</id>
    <name>SwitchStyle</name>
    <label>SwitchStyle</label>
    <sib-uid>style/style/SwitchStyle</sib-uid>
    <taxonomy>de.jabc.cinco.meta.core.ge.sib.style.SwitchStyle</taxonomy>
    <position>813.5,93.0</position>
    <parameter name="eObjectKey">
      <de.metaframe.jabc.framework.sib.parameter.ContextKey>
        <ContextKeyFoundation>
          <key>style</key>
          <scope>LOCAL</scope>
          <scopeMutable>true</scopeMutable>
        </ContextKeyFoundation>
      </de.metaframe.jabc.framework.sib.parameter.ContextKey>
    </parameter>
    <finalbranches>EdgeStyle</finalbranches>
    <finalbranches>NodeStyle</finalbranches>
    <finalbranches>error</finalbranches>
    <finalbranches>other</finalbranches>
  </sib>
  <edge>
    <source>5127d0fa-c7eb-4024-a7c5-a223d3c0db33</source>
    <target>51744bc1-64c3-487b-8560-75f89ca4f78e</target>
    <point>855.0,120.0</point>
    <point>1065.0,105.0</point>
    <labelposition>500.0,0.0</labelposition>
    <branch>NodeStyle</branch>
  </edge>
  <sib>
    <id>2c618a13-bf66-4e9e-ad8b-db860cd13f69</id>
    <name>PrintConsoleMessage</name>
    <label>PrintConsoleMessage</label>
    <sib-uid>io-sibs/PrintConsoleMessage</sib-uid>
    <taxonomy>de.jabc.sib.common.io.PrintConsoleMessage</taxonomy>
    <position>781.5,3.0</position>
    <parameter name="error">
      <boolean>false</boolean>
    </parameter>
    <parameter name="message">
      <de.metaframe.common.sib.parameter.ContextExpression>
        <ContextExpressionFoundation>
          <expression>EdgeStyle ${style} is assigned to Node ${nodeName}...
Leaving Generate ${nodeName} AddFeature </expression>
          <clazz>java.lang.Object</clazz>
          <classMutable>false</classMutable>
        </ContextExpressionFoundation>
      </de.metaframe.common.sib.parameter.ContextExpression>
    </parameter>
    <finalbranches>default</finalbranches>
  </sib>
  <edge>
    <source>5127d0fa-c7eb-4024-a7c5-a223d3c0db33</source>
    <target>2c618a13-bf66-4e9e-ad8b-db860cd13f69</target>
    <point>855.0,120.0</point>
    <point>855.0,30.0</point>
    <labelposition>500.0,0.0</labelposition>
    <branch>EdgeStyle</branch>
  </edge>
  <sib>
    <id>51744bc1-64c3-487b-8560-75f89ca4f78e</id>
    <name>GetNodeStyleMainShape</name>
    <label>GetNodeStyleMainShape</label>
    <sib-uid>style/style/GetNodeStyleMainShape</sib-uid>
    <taxonomy>de.jabc.cinco.meta.core.ge.sib.style.GetNodeStyleMainShape</taxonomy>
    <position>997.0,93.0</position>
    <parameter name="nodeStyleKey">
      <de.metaframe.jabc.framework.sib.parameter.ContextKey>
        <ContextKeyFoundation>
          <key>style</key>
          <scope>LOCAL</scope>
          <scopeMutable>true</scopeMutable>
        </ContextKeyFoundation>
      </de.metaframe.jabc.framework.sib.parameter.ContextKey>
    </parameter>
    <parameter name="nodeStylemainShapeKey">
      <de.metaframe.jabc.framework.sib.parameter.ContextKey>
        <ContextKeyFoundation>
          <key>currentShape</key>
          <scope>LOCAL</scope>
          <scopeMutable>true</scopeMutable>
        </ContextKeyFoundation>
      </de.metaframe.jabc.framework.sib.parameter.ContextKey>
    </parameter>
    <finalbranches>default</finalbranches>
    <finalbranches>error</finalbranches>
  </sib>
  <edge>
    <source>d04e9437-6455-480b-a850-660f91b82b09</source>
    <target>f09cea6d-7d8a-4daf-8ea4-9e792d3a0197</target>
    <point>450.0,165.0</point>
    <point>462.0,252.0</point>
    <branch>default</branch>
  </edge>
  <sib>
    <id>d04e9437-6455-480b-a850-660f91b82b09</id>
    <name>GenerateUniqueGaName</name>
    <label>GenerateUniqueGaName</label>
    <sib-uid>ge-util-sibs/GenerateUniqueGaName</sib-uid>
    <taxonomy>de.jabc.cinco.meta.core.ge.style.sibs.common.GenerateUniqueGaName</taxonomy>
    <position>712.5,228.0</position>
    <parameter name="clearCache">
      <de.metaframe.common.sib.parameter.ContextExpression>
        <ContextExpressionFoundation>
          <expression>true</expression>
          <clazz>java.lang.Boolean</clazz>
          <classMutable>true</classMutable>
        </ContextExpressionFoundation>
      </de.metaframe.common.sib.parameter.ContextExpression>
    </parameter>
    <parameter name="graphicsAlgorithmName">
      <de.metaframe.common.sib.parameter.ContextExpression>
        <ContextExpressionFoundation>
          <expression></expression>
          <clazz>java.lang.String</clazz>
          <classMutable>true</classMutable>
        </ContextExpressionFoundation>
      </de.metaframe.common.sib.parameter.ContextExpression>
    </parameter>
    <parameter name="uniqueGaName">
      <de.metaframe.jabc.framework.sib.parameter.ContextKey>
        <ContextKeyFoundation>
          <key>uniqueGaName</key>
          <scope>LOCAL</scope>
          <scopeMutable>true</scopeMutable>
        </ContextKeyFoundation>
      </de.metaframe.jabc.framework.sib.parameter.ContextKey>
    </parameter>
    <finalbranches>default</finalbranches>
    <finalbranches>error</finalbranches>
  </sib>
  <sib>
    <id>f09cea6d-7d8a-4daf-8ea4-9e792d3a0197</id>
    <name>GenerateUniqueShapeName</name>
    <label>GenerateUniqueShapeName</label>
    <sib-uid>ge-util-sibs/GenerateUniqueShapeName</sib-uid>
    <taxonomy>de.jabc.cinco.meta.core.ge.style.sibs.common.GenerateUniqueShapeName</taxonomy>
    <position>506.0,228.0</position>
    <parameter name="clearCache">
      <de.metaframe.common.sib.parameter.ContextExpression>
        <ContextExpressionFoundation>
          <expression>${true}</expression>
          <clazz>java.lang.Boolean</clazz>
          <classMutable>true</classMutable>
        </ContextExpressionFoundation>
      </de.metaframe.common.sib.parameter.ContextExpression>
    </parameter>
    <parameter name="shapeName">
      <de.metaframe.jabc.framework.sib.parameter.ContextKey>
        <ContextKeyFoundation>
          <key>shapeName</key>
          <scope>LOCAL</scope>
          <scopeMutable>true</scopeMutable>
        </ContextKeyFoundation>
      </de.metaframe.jabc.framework.sib.parameter.ContextKey>
    </parameter>
    <parameter name="uniqueShapeName">
      <de.metaframe.jabc.framework.sib.parameter.ContextKey>
        <ContextKeyFoundation>
          <key>rootShapeName</key>
          <scope>LOCAL</scope>
          <scopeMutable>true</scopeMutable>
        </ContextKeyFoundation>
      </de.metaframe.jabc.framework.sib.parameter.ContextKey>
    </parameter>
    <finalbranches>default</finalbranches>
    <finalbranches>error</finalbranches>
  </sib>
  <sib>
    <id>296012e1-d2e0-4228-9d8c-ede42d53b69c</id>
    <name>GraphSIB_1</name>
    <label>GenerateAbstractShape</label>
    <sib-uid>00000000:00000000000000000000:0000000000011</sib-uid>
    <taxonomy>de.metaframe.jabc.sib.GraphSIB</taxonomy>
    <position>43.0,226.0</position>
    <parameter name="currentShapeKey">
      <de.metaframe.jabc.framework.sib.parameter.ContextKey>
        <ContextKeyFoundation>
          <key>currentShape</key>
          <scope>DECLARED</scope>
          <scopeMutable>true</scopeMutable>
        </ContextKeyFoundation>
      </de.metaframe.jabc.framework.sib.parameter.ContextKey>
    </parameter>
    <parameter name="modelElementKey">
      <de.metaframe.jabc.framework.sib.parameter.ContextKey>
        <ContextKeyFoundation>
          <key>node</key>
          <scope>DECLARED</scope>
          <scopeMutable>true</scopeMutable>
        </ContextKeyFoundation>
      </de.metaframe.jabc.framework.sib.parameter.ContextKey>
    </parameter>
    <parameter name="parentName">
      <de.metaframe.common.sib.parameter.ContextExpression>
        <ContextExpressionFoundation>
          <expression>${parentName}</expression>
          <clazz>java.lang.Object</clazz>
          <classMutable>true</classMutable>
        </ContextExpressionFoundation>
      </de.metaframe.common.sib.parameter.ContextExpression>
    </parameter>
    <parameter name="styleKey">
      <de.metaframe.jabc.framework.sib.parameter.ContextKey>
        <ContextKeyFoundation>
          <key>style</key>
          <scope>DECLARED</scope>
          <scopeMutable>true</scopeMutable>
        </ContextKeyFoundation>
      </de.metaframe.jabc.framework.sib.parameter.ContextKey>
    </parameter>
    <finalbranches>default</finalbranches>
    <finalbranches>error</finalbranches>
    <userobject key="ABC$GRAPHSIB$MODELNAME">
      <string>GenerateAbstractShape</string>
    </userobject>
    <userobject key="ABC$GRAPHSIB$MODELID">
      <string>83d95140-6c37-4d47-b41c-dc01202047a8</string>
    </userobject>
  </sib>
  <sib>
    <id>dbad13c4-2374-4c8e-bd0d-8863a519e4a5</id>
    <name>PutExpression</name>
    <label>ClearGraphicalRep</label>
    <sib-uid>basic-sibs/PutExpression</sib-uid>
    <taxonomy>de.jabc.sib.common.basic.PutExpression</taxonomy>
    <position>206.5,228.0</position>
    <parameter name="resolve">
      <boolean>true</boolean>
    </parameter>
    <parameter name="value">
      <de.metaframe.common.sib.parameter.ContextExpression>
        <ContextExpressionFoundation>
          <expression></expression>
          <clazz>java.lang.Object</clazz>
          <classMutable>true</classMutable>
        </ContextExpressionFoundation>
      </de.metaframe.common.sib.parameter.ContextExpression>
    </parameter>
    <parameter name="variable">
      <de.metaframe.jabc.framework.sib.parameter.ContextKey>
        <ContextKeyFoundation>
          <key>graphicalRep</key>
          <scope>GLOBAL</scope>
          <scopeMutable>true</scopeMutable>
        </ContextKeyFoundation>
      </de.metaframe.jabc.framework.sib.parameter.ContextKey>
    </parameter>
    <finalbranches>default</finalbranches>
    <finalbranches>error</finalbranches>
  </sib>
  <edge>
    <source>dbad13c4-2374-4c8e-bd0d-8863a519e4a5</source>
    <target>296012e1-d2e0-4228-9d8c-ede42d53b69c</target>
    <point>255.0,255.0</point>
    <point>152.0,241.0</point>
    <branch>default</branch>
  </edge>
  <sib>
    <id>01a08f28-05d8-4f4f-9acd-7ccfca84f693</id>
    <name>MacroSIB</name>
    <label>GeneratePrimeParameter</label>
    <sib-uid>c0a80801:2d383935393038373037:1172579262297</sib-uid>
    <taxonomy>de.metaframe.jabc.sib.MacroSIB</taxonomy>
    <position>485.5,961.0</position>
    <parameter name="sourceVariable">
      <de.metaframe.jabc.framework.sib.parameter.ContextKey>
        <ContextKeyFoundation>
          <key>primeRef</key>
          <scope>LOCAL</scope>
          <scopeMutable>true</scopeMutable>
        </ContextKeyFoundation>
      </de.metaframe.jabc.framework.sib.parameter.ContextKey>
    </parameter>
    <finalbranches>default</finalbranches>
    <finalbranches>error</finalbranches>
    <userobject key="ABC$GRAPHSIB$MODELNAME">
      <string>GeneratePrimeParameter</string>
    </userobject>
    <userobject key="ABC$GRAPHSIB$MODELID">
      <string>490b2287-36b7-4f06-83f7-fd9ae2c167c6</string>
    </userobject>
  </sib>
  <edge>
    <source>01a08f28-05d8-4f4f-9acd-7ccfca84f693</source>
    <target>814245de-6dc8-4511-b290-69abaa62e6a8</target>
    <point>450.0,990.0</point>
    <point>299.0,976.0</point>
    <branch>default</branch>
  </edge>
  <sib>
    <id>7fb47318-a83d-4813-b386-01e79a68e99a</id>
    <name>GraphSIB_2</name>
    <label>GenerateModelElementPostCreationHook</label>
    <sib-uid>00000000:00000000000000000000:0000000000011</sib-uid>
    <taxonomy>de.metaframe.jabc.sib.GraphSIB</taxonomy>
    <position>0.0,511.0</position>
    <parameter name="modelElementKey">
      <de.metaframe.jabc.framework.sib.parameter.ContextKey>
        <ContextKeyFoundation>
          <key>node</key>
          <scope>DECLARED</scope>
          <scopeMutable>true</scopeMutable>
        </ContextKeyFoundation>
      </de.metaframe.jabc.framework.sib.parameter.ContextKey>
    </parameter>
    <finalbranches>default</finalbranches>
    <userobject key="ABC$GRAPHSIB$MODELNAME">
      <string>GenerateModelElementPostCreationHook</string>
    </userobject>
    <userobject key="ABC$GRAPHSIB$MODELID">
      <string>3bb8a1c5-18ed-4580-8582-3c735f199d9e</string>
    </userobject>
  </sib>
  <edge>
    <source>7fb47318-a83d-4813-b386-01e79a68e99a</source>
    <target>34bac75f-5a18-400f-9ae2-f09f6cc9ecaa</target>
    <point>120.0,480.0</point>
    <point>129.0,762.0</point>
    <branch>default</branch>
  </edge>
  <edge>
    <source>f09cea6d-7d8a-4daf-8ea4-9e792d3a0197</source>
    <target>41593b09-8ee0-4638-9e7e-9e90f7405015</target>
    <point>687.0,246.54</point>
    <point>423.0,246.54</point>
    <labelposition>500.0,0.0</labelposition>
    <branch>default</branch>
  </edge>
  <sib>
    <id>710f8e6c-9a8f-45ac-85d3-1d054148dfe7</id>
    <name>GetShapeName</name>
    <label>GetShapeName</label>
    <sib-uid>style/style/GetShapeName</sib-uid>
    <taxonomy>de.jabc.cinco.meta.core.sibs.style.sib.style.GetShapeName</taxonomy>
    <position>896.5,228.0</position>
    <parameter name="shapeKey">
      <de.metaframe.jabc.framework.sib.parameter.ContextKey>
        <ContextKeyFoundation>
          <key>currentShape</key>
          <scope>LOCAL</scope>
          <scopeMutable>true</scopeMutable>
        </ContextKeyFoundation>
      </de.metaframe.jabc.framework.sib.parameter.ContextKey>
    </parameter>
    <parameter name="shapenameKey">
      <de.metaframe.jabc.framework.sib.parameter.ContextKey>
        <ContextKeyFoundation>
          <key>shapeName</key>
          <scope>LOCAL</scope>
          <scopeMutable>true</scopeMutable>
        </ContextKeyFoundation>
      </de.metaframe.jabc.framework.sib.parameter.ContextKey>
    </parameter>
    <finalbranches>default</finalbranches>
    <finalbranches>error</finalbranches>
  </sib>
  <edge>
    <source>710f8e6c-9a8f-45ac-85d3-1d054148dfe7</source>
    <target>d04e9437-6455-480b-a850-660f91b82b09</target>
    <point>960.0,315.0</point>
    <point>816.0,231.0</point>
    <branch>default</branch>
  </edge>
  <sib>
    <id>36303ded-1e06-47a6-9ae1-5743e625e9a4</id>
    <name>GetNSUri</name>
    <label>GetNSUri</label>
    <sib-uid>ge-util-sibs/GetNSUri</sib-uid>
    <taxonomy>de.jabc.cinco.meta.core.ge.style.sibs.common.GetNSUri</taxonomy>
    <position>645.0,738.0</position>
    <parameter name="nsUri">
      <de.metaframe.jabc.framework.sib.parameter.ContextKey>
        <ContextKeyFoundation>
          <key>nsURI</key>
          <scope>LOCAL</scope>
          <scopeMutable>true</scopeMutable>
        </ContextKeyFoundation>
      </de.metaframe.jabc.framework.sib.parameter.ContextKey>
    </parameter>
    <parameter name="object">
      <de.metaframe.jabc.framework.sib.parameter.ContextKey>
        <ContextKeyFoundation>
          <key>primeRefType</key>
          <scope>LOCAL</scope>
          <scopeMutable>true</scopeMutable>
        </ContextKeyFoundation>
      </de.metaframe.jabc.framework.sib.parameter.ContextKey>
    </parameter>
    <finalbranches>default</finalbranches>
    <finalbranches>error</finalbranches>
  </sib>
  <edge>
    <source>36303ded-1e06-47a6-9ae1-5743e625e9a4</source>
    <target>a3fb0cb1-eed7-49d8-b374-904b3026f7bb</target>
    <point>705.0,675.0</point>
    <point>922.0,760.0</point>
    <branch>default</branch>
  </edge>
  <sib>
    <id>a1b068e2-d31f-4aef-bd26-23ef5cb004d8</id>
    <name>GetReferencedEClassType</name>
    <label>GetReferencedEClassType</label>
    <sib-uid>mgl/mgl/GetReferencedEClassType</sib-uid>
    <taxonomy>de.jabc.cinco.meta.core.sibs.mgl.sib.mgl.GetReferencedEClassType</taxonomy>
    <position>376.5,738.0</position>
    <parameter name="referencedEClassKey">
      <de.metaframe.jabc.framework.sib.parameter.ContextKey>
        <ContextKeyFoundation>
          <key>primeRef</key>
          <scope>LOCAL</scope>
          <scopeMutable>true</scopeMutable>
        </ContextKeyFoundation>
      </de.metaframe.jabc.framework.sib.parameter.ContextKey>
    </parameter>
    <parameter name="referencedEClasstypeKey">
      <de.metaframe.jabc.framework.sib.parameter.ContextKey>
        <ContextKeyFoundation>
          <key>primeRefType</key>
          <scope>LOCAL</scope>
          <scopeMutable>true</scopeMutable>
        </ContextKeyFoundation>
      </de.metaframe.jabc.framework.sib.parameter.ContextKey>
    </parameter>
    <finalbranches>default</finalbranches>
    <finalbranches>error</finalbranches>
  </sib>
  <parameter>
    <name>modelElementKey</name>
    <field>modelElementKey</field>
    <sib>5814d032-c924-4985-aeca-fd4deeba15f3</sib>
  </parameter>
  <parameter>
    <name>modelElementKey</name>
    <field>nodeKey</field>
    <sib>fe24d92a-f68f-432e-8322-e04657863492</sib>
  </parameter>
  <parameter>
    <name>modelElementKey</name>
    <field>nodeKey</field>
    <sib>3dba0534-f2fc-402e-a00f-614a1753c864</sib>
  </parameter>
  <parameter>
    <name>modelElementKey</name>
    <field>modelElementKey</field>
    <sib>296012e1-d2e0-4228-9d8c-ede42d53b69c</sib>
  </parameter>
  <parameter>
    <name>modelElementKey</name>
    <field>modelElementKey</field>
    <sib>7fb47318-a83d-4813-b386-01e79a68e99a</sib>
  </parameter>
  <values>
    <entry>
      <string>modelElementKey</string>
      <de.metaframe.jabc.framework.sib.parameter.ContextKey>
        <ContextKeyFoundation>
          <key>node</key>
          <scope>DECLARED</scope>
          <scopeMutable>true</scopeMutable>
        </ContextKeyFoundation>
      </de.metaframe.jabc.framework.sib.parameter.ContextKey>
    </entry>
  </values>
  <branch>
    <name>error</name>
    <branch>error</branch>
    <sib>14638ad3-47f5-47d9-a057-7e754a7e0b27</sib>
  </branch>
  <branch>
    <name>error</name>
    <branch>error</branch>
    <sib>514d2abb-2516-42a7-9c91-c09504f10dda</sib>
  </branch>
  <branch>
    <name>error</name>
    <branch>error</branch>
    <sib>48c311df-2317-4c6e-a9ef-0243b98a4f6f</sib>
  </branch>
  <branch>
    <name>error</name>
    <branch>error</branch>
    <sib>b89523ed-9916-4f61-a5e9-9e1d8838a845</sib>
  </branch>
  <branch>
    <name>error</name>
    <branch>error</branch>
    <sib>5814d032-c924-4985-aeca-fd4deeba15f3</sib>
  </branch>
  <branch>
    <name>error</name>
    <branch>error</branch>
    <sib>41593b09-8ee0-4638-9e7e-9e90f7405015</sib>
  </branch>
  <branch>
    <name>error</name>
    <branch>error</branch>
    <sib>2d0994da-dc0e-48ac-8053-59480260e4b6</sib>
  </branch>
  <branch>
    <name>error</name>
    <branch>error</branch>
    <sib>34bac75f-5a18-400f-9ae2-f09f6cc9ecaa</sib>
  </branch>
  <branch>
    <name>error</name>
    <branch>error</branch>
    <sib>ccabf017-ba9d-4d9c-94a0-bb4ed47671df</sib>
  </branch>
  <branch>
    <name>error</name>
    <branch>error</branch>
    <sib>814245de-6dc8-4511-b290-69abaa62e6a8</sib>
  </branch>
  <branch>
    <name>error</name>
    <branch>error</branch>
    <sib>fe24d92a-f68f-432e-8322-e04657863492</sib>
  </branch>
  <branch>
    <name>error</name>
    <branch>error</branch>
    <sib>8100b149-2197-49c7-aff7-6e07b2444a75</sib>
  </branch>
  <branch>
    <name>error</name>
    <branch>error</branch>
    <sib>a3fb0cb1-eed7-49d8-b374-904b3026f7bb</sib>
  </branch>
  <branch>
    <name>error</name>
    <branch>error</branch>
    <sib>133d9178-21cb-4caf-adc1-01eaed0b66e7</sib>
  </branch>
  <branch>
    <name>error</name>
    <branch>error</branch>
    <sib>3dba0534-f2fc-402e-a00f-614a1753c864</sib>
  </branch>
  <branch>
    <name>error</name>
    <branch>error</branch>
    <sib>0600d8c7-2c7d-427c-b19c-0df44df02475</sib>
  </branch>
  <branch>
    <name>default</name>
    <branch>true</branch>
    <sib>0600d8c7-2c7d-427c-b19c-0df44df02475</sib>
  </branch>
  <branch>
    <name>error</name>
    <branch>error</branch>
    <sib>5127d0fa-c7eb-4024-a7c5-a223d3c0db33</sib>
  </branch>
  <branch>
    <name>default</name>
    <branch>default</branch>
    <sib>2c618a13-bf66-4e9e-ad8b-db860cd13f69</sib>
  </branch>
  <branch>
    <name>error</name>
    <branch>error</branch>
    <sib>51744bc1-64c3-487b-8560-75f89ca4f78e</sib>
  </branch>
  <branch>
    <name>error</name>
    <branch>error</branch>
    <sib>d04e9437-6455-480b-a850-660f91b82b09</sib>
  </branch>
  <branch>
    <name>error</name>
    <branch>error</branch>
    <sib>f09cea6d-7d8a-4daf-8ea4-9e792d3a0197</sib>
  </branch>
  <branch>
    <name>error</name>
    <branch>error</branch>
    <sib>296012e1-d2e0-4228-9d8c-ede42d53b69c</sib>
  </branch>
  <branch>
    <name>error</name>
    <branch>error</branch>
    <sib>dbad13c4-2374-4c8e-bd0d-8863a519e4a5</sib>
  </branch>
  <branch>
    <name>error</name>
    <branch>error</branch>
    <sib>01a08f28-05d8-4f4f-9acd-7ccfca84f693</sib>
  </branch>
  <branch>
    <name>error</name>
    <branch>error</branch>
    <sib>a1b068e2-d31f-4aef-bd26-23ef5cb004d8</sib>
  </branch>
  <branch>
    <name>default</name>
    <branch>default</branch>
    <sib>14638ad3-47f5-47d9-a057-7e754a7e0b27</sib>
  </branch>
</model>