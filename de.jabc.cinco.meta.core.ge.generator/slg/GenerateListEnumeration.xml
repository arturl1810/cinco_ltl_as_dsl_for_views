<?xml version="1.0" encoding="ISO-8859-1"?>
<model version="2.1">
  <id>b49c55b6-737b-4210-8bcc-74d19bab446b</id>
  <name>GenerateListEnumeration</name>
  <changecounter>121</changecounter>
  <sib>
    <id>0d0e9bd4-4a8c-40ec-8c30-eaafbbe0d32d</id>
    <name>CopyEObject</name>
    <label>CopyEnum</label>
    <sib-uid>utility-sibs/CopyEObject</sib-uid>
    <taxonomy>transem.utility.sib.CopyEObject</taxonomy>
    <position>190.5,78.0</position>
    <parameter name="copiedEObjectKey">
      <de.metaframe.jabc.framework.sib.parameter.ContextKey>
        <ContextKeyFoundation>
          <key>enum</key>
          <scope>LOCAL</scope>
          <scopeMutable>true</scopeMutable>
        </ContextKeyFoundation>
      </de.metaframe.jabc.framework.sib.parameter.ContextKey>
    </parameter>
    <parameter name="eObjectKey">
      <de.metaframe.jabc.framework.sib.parameter.ContextKey>
        <ContextKeyFoundation>
          <key>enumKey</key>
          <scope>DECLARED</scope>
          <scopeMutable>true</scopeMutable>
        </ContextKeyFoundation>
      </de.metaframe.jabc.framework.sib.parameter.ContextKey>
    </parameter>
    <finalbranches>default</finalbranches>
    <finalbranches>error</finalbranches>
    <userobject key="ABC$START">
      <boolean>true</boolean>
    </userobject>
  </sib>
  <sib>
    <id>003fd8ef-7501-4ce4-b564-da70a5507e3f</id>
    <name>RunStringTemplate</name>
    <label>GenRefreshCode</label>
    <sib-uid>script-sibs/RunStringTemplate</sib-uid>
    <taxonomy>de.jabc.sib.common.script.RunStringTemplate</taxonomy>
    <position>833.0,438.0</position>
    <parameter name="append">
      <boolean>false</boolean>
    </parameter>
    <parameter name="individualVariables">
      <boolean>false</boolean>
    </parameter>
    <parameter name="result">
      <de.metaframe.jabc.framework.sib.parameter.ContextKey>
        <ContextKeyFoundation>
          <key>refreshCode</key>
          <scope>PARENT</scope>
          <scopeMutable>true</scopeMutable>
        </ContextKeyFoundation>
      </de.metaframe.jabc.framework.sib.parameter.ContextKey>
    </parameter>
    <parameter name="template">
      <string>if (tmp.get$context.fuAttributeName$() != null)
	$context.flAttributeName$TableViewer.setInput(tmp.get$context.fuAttributeName$());</string>
    </parameter>
    <finalbranches>default</finalbranches>
    <finalbranches>error</finalbranches>
  </sib>
  <sib>
    <id>14ffd1c9-6208-4213-a9f5-1e3dce7776d6</id>
    <name>RunStringTemplate_1</name>
    <label>GenChangeValue</label>
    <sib-uid>script-sibs/RunStringTemplate</sib-uid>
    <taxonomy>de.jabc.sib.common.script.RunStringTemplate</taxonomy>
    <position>697.5,438.0</position>
    <parameter name="append">
      <boolean>false</boolean>
    </parameter>
    <parameter name="individualVariables">
      <boolean>false</boolean>
    </parameter>
    <parameter name="result">
      <de.metaframe.jabc.framework.sib.parameter.ContextKey>
        <ContextKeyFoundation>
          <key>changeValueCode</key>
          <scope>PARENT</scope>
          <scopeMutable>true</scopeMutable>
        </ContextKeyFoundation>
      </de.metaframe.jabc.framework.sib.parameter.ContextKey>
    </parameter>
    <parameter name="template">
      <string>/*EObject tmp = Graphiti.getLinkService().getBusinessObjectForLinkedPictogramElement(pe);
if (tmp instanceof $context.modelElementName$) {
	(($context.modelElementName$) tmp).set$context.fuAttributeName$($context.enum.name$.getByName($context.flAttributeName$Combo.getText()));
}*/</string>
    </parameter>
    <finalbranches>default</finalbranches>
    <finalbranches>error</finalbranches>
  </sib>
  <sib>
    <id>61a55d87-1948-4565-88c9-ea71c88709b6</id>
    <name>RunStringTemplate_2</name>
    <label>GenControl</label>
    <sib-uid>script-sibs/RunStringTemplate</sib-uid>
    <taxonomy>de.jabc.sib.common.script.RunStringTemplate</taxonomy>
    <position>564.0,438.0</position>
    <parameter name="append">
      <boolean>false</boolean>
    </parameter>
    <parameter name="individualVariables">
      <boolean>false</boolean>
    </parameter>
    <parameter name="result">
      <de.metaframe.jabc.framework.sib.parameter.ContextKey>
        <ContextKeyFoundation>
          <key>controlCode</key>
          <scope>PARENT</scope>
          <scopeMutable>true</scopeMutable>
        </ContextKeyFoundation>
      </de.metaframe.jabc.framework.sib.parameter.ContextKey>
    </parameter>
    <parameter name="template">
      <string>private TableViewer $context.flAttributeName$TableViewer;
private Table $context.flAttributeName$Table;
	
private Button add;
private Button remove;
	
@Override
public void createControls(Composite parent, TabbedPropertySheetPage aTabbedPropertySheetPage) {
	super.createControls(parent, aTabbedPropertySheetPage);
	
	TabbedPropertySheetWidgetFactory factory = aTabbedPropertySheetPage.getWidgetFactory();
	Composite composite = factory.createFlatFormComposite(parent);
	
	FormData data;
	
	data = new FormData();
	data.left = new FormAttachment(0, $context.width$);
	data.right = new FormAttachment(97, 2);
	data.top = new FormAttachment(0, ITabbedPropertyConstants.VSPACE);
	data.bottom = new FormAttachment(0, 80);
	
	TableLayout tableLayout = new TableLayout();
	tableLayout.addColumnData(new ColumnWeightData(1));
	
	$context.flAttributeName$Table = new Table(composite, SWT.BORDER | SWT.FULL_SELECTION | SWT.V_SCROLL);
	$context.flAttributeName$Table.setLinesVisible(true);
	$context.flAttributeName$Table.setHeaderVisible(false);
	$context.flAttributeName$Table.setLayout(tableLayout);
	
	$context.flAttributeName$TableViewer = new TableViewer($context.flAttributeName$Table);
	$context.flAttributeName$TableViewer.getControl().setLayoutData(data);
	TableViewerColumn valueColumn = new TableViewerColumn($context.flAttributeName$TableViewer, SWT.NONE);
	EditingSupport enumerationEditingSupport = new EnumerationEditingSupport(valueColumn.getViewer());
	valueColumn.setEditingSupport(enumerationEditingSupport);
	$context.flAttributeName$TableViewer.setContentProvider(new ArrayContentProvider());
	$context.flAttributeName$TableViewer.setLabelProvider(new EnumerationTableLabelProvider());
	
	Label $context.flAttributeName$Label = factory.createLabel(composite, &quot;$context.fuAttributeName$:&quot;);
	data = new FormData();
	data.left = new FormAttachment(0, 0);
	data.right = new FormAttachment($context.flAttributeName$Table, -ITabbedPropertyConstants.HSPACE);
	data.top = new FormAttachment($context.flAttributeName$Table, 0, SWT.TOP);
	$context.flAttributeName$Label.setLayoutData(data);
	
	add = factory.createButton(composite, &quot;+&quot;, SWT.PUSH);
	data = new FormData();
	data.left = new FormAttachment($context.flAttributeName$Table, 0);
	data.top = new FormAttachment(0,ITabbedPropertyConstants.VMARGIN);
	data.right = new FormAttachment(100,0);
	add.setLayoutData(data);
	add.setEnabled(!$context.isReadOnly$);
	remove = factory.createButton(composite, &quot;-&quot;, SWT.PUSH);
	data = new FormData();
	data.left = new FormAttachment($context.flAttributeName$Table, 0);
	data.right = new FormAttachment(100, 0);
	data.top = new FormAttachment(add, 0);
	remove.setLayoutData(data);
	remove.setEnabled(!$context.isReadOnly$);
	
	add.addSelectionListener(addListener);
	remove.addSelectionListener(removeListener);
}

final class EnumerationEditingSupport extends EditingSupport {

	private ComboBoxViewerCellEditor cellEditor = null;
   
	public EnumerationEditingSupport (ColumnViewer viewer) {
		super(viewer);
		cellEditor = new ComboBoxViewerCellEditor((Composite) getViewer().getControl(), SWT.READ_ONLY);
		cellEditor.setLabelProvider(new LabelProvider());
		cellEditor.setContentProvider(new ArrayContentProvider());
		cellEditor.setInput($context.enum.name$.values());
	}
	     
	@Override
	protected CellEditor getCellEditor(Object element) {
		return cellEditor;
	}
	     
	@Override
	protected boolean canEdit(Object element) {
		return true;
	}
	     
	@Override
	protected Object getValue(Object element) {
		if (element instanceof $context.enum.name$) {
			$context.enum.name$ data = ($context.enum.name$)element;
			return data.getLiteral();
		}
		return null;
	}
	     
	@Override
	protected void setValue(Object element, Object value) {
		if (element instanceof $context.enum.name$ &amp;&amp; value != null) {
			$context.enum.name$ tmp = ($context.enum.name$) element;
			if (!tmp.getLiteral().equals(value)){
				final $context.modelElementName$ sel = getBusinessObjectForSelection(getSelectedPictogramElement());
				if (sel == null)
					return;
				TransactionalEditingDomain dom = getDiagramContainer().getDiagramBehavior().getEditingDomain();
				dom.getCommandStack().execute(new RecordingCommand(dom, &quot;Add $context.attribute.name$: &quot; + $context.enum.name$.get(0)) {
					
					@Override
					protected void doExecute() {
						sel.get$context.fuAttributeName$().remove($context.flAttributeName$Table.getSelectionIndex());
						sel.get$context.fuAttributeName$().add($context.flAttributeName$Table.getSelectionIndex()+1, ($context.enum.name$) value);
					}
				});
				
			}
		}
	}
	     
}
	
final class EnumerationTableLabelProvider extends LabelProvider implements ITableLabelProvider {

	@Override
	public org.eclipse.swt.graphics.Image getColumnImage(Object element, int columnIndex) {
		return null;
	}
	
	@Override
	public String getColumnText(Object element, int columnIndex) {
		if (!(element instanceof $context.enum.name$))
			return null;
		switch (columnIndex) {
		case 0:
			return (($context.enum.name$) element).getLiteral();
		default:
			break;
		}
		return null;
	}

}</string>
    </parameter>
    <finalbranches>default</finalbranches>
    <finalbranches>error</finalbranches>
  </sib>
  <edge>
    <source>61a55d87-1948-4565-88c9-ea71c88709b6</source>
    <target>14ffd1c9-6208-4213-a9f5-1e3dce7776d6</target>
    <point>570.0,450.0</point>
    <point>750.0,450.0</point>
    <labelposition>500.0,0.0</labelposition>
    <branch>default</branch>
  </edge>
  <edge>
    <source>14ffd1c9-6208-4213-a9f5-1e3dce7776d6</source>
    <target>003fd8ef-7501-4ce4-b564-da70a5507e3f</target>
    <point>750.0,450.0</point>
    <point>900.0,450.0</point>
    <labelposition>500.0,0.0</labelposition>
    <branch>default</branch>
  </edge>
  <sib>
    <id>431f9c0c-6d09-4c0c-9305-484f00569c0e</id>
    <name>RunStringTemplate_3</name>
    <label>GenListenerCode</label>
    <sib-uid>script-sibs/RunStringTemplate</sib-uid>
    <taxonomy>de.jabc.sib.common.script.RunStringTemplate</taxonomy>
    <position>1006.0,438.0</position>
    <parameter name="append">
      <boolean>false</boolean>
    </parameter>
    <parameter name="individualVariables">
      <boolean>false</boolean>
    </parameter>
    <parameter name="result">
      <de.metaframe.jabc.framework.sib.parameter.ContextKey>
        <ContextKeyFoundation>
          <key>listenerCode</key>
          <scope>PARENT</scope>
          <scopeMutable>true</scopeMutable>
        </ContextKeyFoundation>
      </de.metaframe.jabc.framework.sib.parameter.ContextKey>
    </parameter>
    <parameter name="template">
      <string>SelectionListener addListener = new SelectionListener() {
		
	@Override
	public void widgetSelected(SelectionEvent e) {
			
		final $context.modelElementName$ tmp = getBusinessObjectForSelection(getSelectedPictogramElement());
			if (tmp == null)
				return;
			TransactionalEditingDomain dom = getDiagramContainer().getDiagramBehavior().getEditingDomain();
			dom.getCommandStack().execute(new RecordingCommand(dom, &quot;Add $context.enum.name$: &quot; + $context.enum.name$.get(0)) {
				
				@Override
				protected void doExecute() {
					tmp.get$context.fuAttributeName$().add($context.enum.name$.get(0));
					refresh();
				}
			});
	}
	
	@Override
	public void widgetDefaultSelected(SelectionEvent e) {
	}
};

SelectionListener removeListener = new SelectionListener() {
	
	@Override
	public void widgetSelected(SelectionEvent e) {
		if ($context.flAttributeName$TableViewer.getSelection() != null &amp;&amp; !$context.flAttributeName$TableViewer.getSelection().isEmpty()) {
			ISelection sel = $context.flAttributeName$TableViewer.getSelection();
			if (!(sel instanceof IStructuredSelection))
				return;
			IStructuredSelection ssel = (IStructuredSelection) sel;
			final Object selection = ssel.getFirstElement();
			final $context.modelElementName$ tmp = getBusinessObjectForSelection(getSelectedPictogramElement());
			if (tmp == null) {
				return;
			}
			TransactionalEditingDomain dom = getDiagramContainer().getDiagramBehavior().getEditingDomain();
			dom.getCommandStack().execute(new RecordingCommand(dom, &quot;Remove: &quot; + remove) {
			
				@Override
				protected void doExecute() {
					tmp.get$context.fuAttributeName$().remove(selection);
					refresh();
				}
			});
		}
	}

	@Override
	public void widgetDefaultSelected(SelectionEvent e) {
		
	}
};</string>
    </parameter>
    <finalbranches>default</finalbranches>
    <finalbranches>error</finalbranches>
  </sib>
  <edge>
    <source>003fd8ef-7501-4ce4-b564-da70a5507e3f</source>
    <target>431f9c0c-6d09-4c0c-9305-484f00569c0e</target>
    <point>900.0,450.0</point>
    <point>1065.0,450.0</point>
    <labelposition>500.0,0.0</labelposition>
    <branch>default</branch>
  </edge>
  <edge>
    <source>36d5784e-64ac-454a-98dc-acc2c0a7394c</source>
    <target>61a55d87-1948-4565-88c9-ea71c88709b6</target>
    <point>435.0,555.0</point>
    <point>570.0,450.0</point>
    <labelposition>500.0,0.0</labelposition>
    <branch>false</branch>
  </edge>
  <edge>
    <source>36d5784e-64ac-454a-98dc-acc2c0a7394c</source>
    <target>db8782ad-0812-4996-b090-f4ac4b2f7a67</target>
    <point>435.0,570.0</point>
    <point>495.0,705.0</point>
    <labelposition>500.0,0.0</labelposition>
    <branch>true</branch>
  </edge>
  <sib>
    <id>36d5784e-64ac-454a-98dc-acc2c0a7394c</id>
    <name>EvaluateBoolean</name>
    <label>isPrimeRef</label>
    <sib-uid>basic-sibs/EvaluateBoolean</sib-uid>
    <taxonomy>de.jabc.sib.common.basic.EvaluateBoolean</taxonomy>
    <position>385.5,543.0</position>
    <parameter name="bool">
      <de.metaframe.jabc.framework.sib.parameter.ContextKey>
        <ContextKeyFoundation>
          <key>isPrimeRef</key>
          <scope>GLOBAL</scope>
          <scopeMutable>true</scopeMutable>
        </ContextKeyFoundation>
      </de.metaframe.jabc.framework.sib.parameter.ContextKey>
    </parameter>
    <finalbranches>error</finalbranches>
    <finalbranches>false</finalbranches>
    <finalbranches>true</finalbranches>
  </sib>
  <edge>
    <source>0d0e9bd4-4a8c-40ec-8c30-eaafbbe0d32d</source>
    <target>d886d99c-699f-4f40-8793-9d080a1aff28</target>
    <point>255.0,90.0</point>
    <point>480.0,90.0</point>
    <labelposition>500.0,0.0</labelposition>
    <branch>default</branch>
  </edge>
  <sib>
    <id>42676558-118e-4472-a537-6af6e934e853</id>
    <name>GetEnumerationLiterals</name>
    <label>GetEnumerationLiterals</label>
    <sib-uid>mgl/mgl/GetEnumerationLiterals</sib-uid>
    <taxonomy>de.jabc.cinco.meta.core.sibs.mgl.sib.mgl.GetEnumerationLiterals</taxonomy>
    <position>379.0,228.0</position>
    <parameter name="eListKey">
      <de.metaframe.jabc.framework.sib.parameter.ContextKey>
        <ContextKeyFoundation>
          <key>literals</key>
          <scope>LOCAL</scope>
          <scopeMutable>true</scopeMutable>
        </ContextKeyFoundation>
      </de.metaframe.jabc.framework.sib.parameter.ContextKey>
    </parameter>
    <parameter name="enumerationKey">
      <de.metaframe.jabc.framework.sib.parameter.ContextKey>
        <ContextKeyFoundation>
          <key>enum</key>
          <scope>LOCAL</scope>
          <scopeMutable>true</scopeMutable>
        </ContextKeyFoundation>
      </de.metaframe.jabc.framework.sib.parameter.ContextKey>
    </parameter>
    <finalbranches>default</finalbranches>
    <finalbranches>error</finalbranches>
  </sib>
  <sib>
    <id>973371a5-27fe-4352-b9bf-ff0647f7e225</id>
    <name>IterateElements</name>
    <label>IterateLiterals</label>
    <sib-uid>collection-sibs/IterateElements</sib-uid>
    <taxonomy>de.jabc.sib.common.collection.IterateElements</taxonomy>
    <position>586.5,228.0</position>
    <parameter name="collection">
      <de.metaframe.jabc.framework.sib.parameter.ContextKey>
        <ContextKeyFoundation>
          <key>literals</key>
          <scope>DECLARED</scope>
          <scopeMutable>true</scopeMutable>
        </ContextKeyFoundation>
      </de.metaframe.jabc.framework.sib.parameter.ContextKey>
    </parameter>
    <parameter name="element">
      <de.metaframe.jabc.framework.sib.parameter.ContextKey>
        <ContextKeyFoundation>
          <key>literal</key>
          <scope>LOCAL</scope>
          <scopeMutable>true</scopeMutable>
        </ContextKeyFoundation>
      </de.metaframe.jabc.framework.sib.parameter.ContextKey>
    </parameter>
    <parameter name="iterator">
      <de.metaframe.jabc.framework.sib.parameter.ContextKey>
        <ContextKeyFoundation>
          <key>litIt</key>
          <scope>LOCAL</scope>
          <scopeMutable>true</scopeMutable>
        </ContextKeyFoundation>
      </de.metaframe.jabc.framework.sib.parameter.ContextKey>
    </parameter>
    <finalbranches>error</finalbranches>
    <finalbranches>exit</finalbranches>
    <finalbranches>next</finalbranches>
  </sib>
  <edge>
    <source>42676558-118e-4472-a537-6af6e934e853</source>
    <target>973371a5-27fe-4352-b9bf-ff0647f7e225</target>
    <point>390.0,90.0</point>
    <point>570.0,90.0</point>
    <branch>default</branch>
  </edge>
  <sib>
    <id>2b205940-4d37-47eb-9d4f-34d74d2256c1</id>
    <name>RunStringTemplate_5</name>
    <label>GenLiterals</label>
    <sib-uid>script-sibs/RunStringTemplate</sib-uid>
    <taxonomy>de.jabc.sib.common.script.RunStringTemplate</taxonomy>
    <position>743.5,228.0</position>
    <parameter name="append">
      <boolean>true</boolean>
    </parameter>
    <parameter name="individualVariables">
      <boolean>false</boolean>
    </parameter>
    <parameter name="result">
      <de.metaframe.jabc.framework.sib.parameter.ContextKey>
        <ContextKeyFoundation>
          <key>literalsContent</key>
          <scope>LOCAL</scope>
          <scopeMutable>true</scopeMutable>
        </ContextKeyFoundation>
      </de.metaframe.jabc.framework.sib.parameter.ContextKey>
    </parameter>
    <parameter name="template">
      <string>&quot;$context.literal$&quot;, </string>
    </parameter>
    <finalbranches>default</finalbranches>
    <finalbranches>error</finalbranches>
  </sib>
  <edge>
    <source>973371a5-27fe-4352-b9bf-ff0647f7e225</source>
    <target>2b205940-4d37-47eb-9d4f-34d74d2256c1</target>
    <spline/>
    <point>660.0,255.0</point>
    <point>720.0,330.0</point>
    <point>780.0,255.0</point>
    <labelposition>499.9999999999956,83.99999999999999</labelposition>
    <branch>next</branch>
  </edge>
  <edge>
    <source>2b205940-4d37-47eb-9d4f-34d74d2256c1</source>
    <target>973371a5-27fe-4352-b9bf-ff0647f7e225</target>
    <point>645.0,450.0</point>
    <point>645.0,240.0</point>
    <labelposition>500.0,0.0</labelposition>
    <branch>default</branch>
  </edge>
  <edge>
    <source>973371a5-27fe-4352-b9bf-ff0647f7e225</source>
    <target>36d5784e-64ac-454a-98dc-acc2c0a7394c</target>
    <point>540.0,90.0</point>
    <point>225.0,420.0</point>
    <branch>exit</branch>
  </edge>
  <sib>
    <id>d886d99c-699f-4f40-8793-9d080a1aff28</id>
    <name>SwitchType</name>
    <label>SwitchType</label>
    <sib-uid>mgl/mgl/SwitchType</sib-uid>
    <taxonomy>de.jabc.cinco.meta.core.sibs.mgl.sib.mgl.SwitchType</taxonomy>
    <position>414.0,78.0</position>
    <parameter name="eObjectKey">
      <de.metaframe.jabc.framework.sib.parameter.ContextKey>
        <ContextKeyFoundation>
          <key>enum</key>
          <scope>LOCAL</scope>
          <scopeMutable>true</scopeMutable>
        </ContextKeyFoundation>
      </de.metaframe.jabc.framework.sib.parameter.ContextKey>
    </parameter>
    <finalbranches>Edge</finalbranches>
    <finalbranches>Enumeration</finalbranches>
    <finalbranches>GraphModel</finalbranches>
    <finalbranches>GraphicalModelElement</finalbranches>
    <finalbranches>ModelElement</finalbranches>
    <finalbranches>Node</finalbranches>
    <finalbranches>NodeContainer</finalbranches>
    <finalbranches>ReferencedType</finalbranches>
    <finalbranches>UserDefinedType</finalbranches>
    <finalbranches>error</finalbranches>
    <finalbranches>other</finalbranches>
  </sib>
  <edge>
    <source>d886d99c-699f-4f40-8793-9d080a1aff28</source>
    <target>42676558-118e-4472-a537-6af6e934e853</target>
    <point>495.0,90.0</point>
    <point>495.0,225.0</point>
    <branch>Enumeration</branch>
  </edge>
  <sib>
    <id>035b2d4d-c5cb-4ef4-8d72-ccd33c92cfe6</id>
    <name>GetEEnumELiterals</name>
    <label>GetEEnumELiterals</label>
    <sib-uid>ecore/ecore/GetEEnumELiterals</sib-uid>
    <taxonomy>transem.ecore.sib.ecore.GetEEnumELiterals</taxonomy>
    <position>572.0,78.0</position>
    <parameter name="eEnumKey">
      <de.metaframe.jabc.framework.sib.parameter.ContextKey>
        <ContextKeyFoundation>
          <key>enum</key>
          <scope>LOCAL</scope>
          <scopeMutable>true</scopeMutable>
        </ContextKeyFoundation>
      </de.metaframe.jabc.framework.sib.parameter.ContextKey>
    </parameter>
    <parameter name="eListKey">
      <de.metaframe.jabc.framework.sib.parameter.ContextKey>
        <ContextKeyFoundation>
          <key>literals</key>
          <scope>LOCAL</scope>
          <scopeMutable>true</scopeMutable>
        </ContextKeyFoundation>
      </de.metaframe.jabc.framework.sib.parameter.ContextKey>
    </parameter>
    <finalbranches>default</finalbranches>
    <finalbranches>error</finalbranches>
  </sib>
  <edge>
    <source>d886d99c-699f-4f40-8793-9d080a1aff28</source>
    <target>035b2d4d-c5cb-4ef4-8d72-ccd33c92cfe6</target>
    <point>480.0,90.0</point>
    <point>735.0,90.0</point>
    <labelposition>500.0,0.0</labelposition>
    <branch>other</branch>
  </edge>
  <edge>
    <source>035b2d4d-c5cb-4ef4-8d72-ccd33c92cfe6</source>
    <target>973371a5-27fe-4352-b9bf-ff0647f7e225</target>
    <point>750.0,105.0</point>
    <point>660.0,225.0</point>
    <labelposition>500.0,0.0</labelposition>
    <branch>default</branch>
  </edge>
  <sib>
    <id>22154a24-e201-471e-a0f7-85421eec3748</id>
    <name>RunStringTemplate_7</name>
    <label>GenRefreshCode</label>
    <sib-uid>script-sibs/RunStringTemplate</sib-uid>
    <taxonomy>de.jabc.sib.common.script.RunStringTemplate</taxonomy>
    <position>1058.0,663.0</position>
    <parameter name="append">
      <boolean>false</boolean>
    </parameter>
    <parameter name="individualVariables">
      <boolean>false</boolean>
    </parameter>
    <parameter name="result">
      <de.metaframe.jabc.framework.sib.parameter.ContextKey>
        <ContextKeyFoundation>
          <key>refreshCode</key>
          <scope>PARENT</scope>
          <scopeMutable>true</scopeMutable>
        </ContextKeyFoundation>
      </de.metaframe.jabc.framework.sib.parameter.ContextKey>
    </parameter>
    <parameter name="template">
      <string>$context.fuModelElementName$ $context.meIdentifier$ = null;
PictogramElement pe = getSelectedPictogramElement();
if (pe != null) {
	bo = Graphiti.getLinkService().getBusinessObjectForLinkedPictogramElement(pe);
}
if (bo instanceof $context.fuModelElementName$)
	$context.meIdentifier$ = ($context.fuModelElementName$) bo;
else return;
Object value = &quot;&quot;;
$context.fuModelElementName$ tmp = ($context.fuModelElementName$) bo;
if( tmp.get$context.fuAttributeName$Parameter().get(0) != null )
	value = tmp.get$context.fuAttributeName$Parameter().get(0).getInstance();
if (value != null)
	$context.flAttributeName$Combo.setText( (($context.attributeTypeName$) value).getLiteral());
</string>
    </parameter>
    <finalbranches>default</finalbranches>
    <finalbranches>error</finalbranches>
  </sib>
  <sib>
    <id>73704fb9-e93f-4d5a-acda-413f08113da3</id>
    <name>RunStringTemplate_8</name>
    <label>GenControl</label>
    <sib-uid>script-sibs/RunStringTemplate</sib-uid>
    <taxonomy>de.jabc.sib.common.script.RunStringTemplate</taxonomy>
    <position>609.0,663.0</position>
    <parameter name="append">
      <boolean>false</boolean>
    </parameter>
    <parameter name="individualVariables">
      <boolean>false</boolean>
    </parameter>
    <parameter name="result">
      <de.metaframe.jabc.framework.sib.parameter.ContextKey>
        <ContextKeyFoundation>
          <key>controlCode</key>
          <scope>PARENT</scope>
          <scopeMutable>true</scopeMutable>
        </ContextKeyFoundation>
      </de.metaframe.jabc.framework.sib.parameter.ContextKey>
    </parameter>
    <parameter name="template">
      <string>private CCombo $context.flAttributeName$Combo;
	
@Override
public void createControls(Composite parent, TabbedPropertySheetPage tabbedPropertySheetPage) {
	super.createControls(parent, tabbedPropertySheetPage);
	TabbedPropertySheetWidgetFactory factory = getWidgetFactory();
	Composite composite = factory.createFlatFormComposite(parent);

	FormData data;

	$context.flAttributeName$Combo = factory.createCCombo(composite, SWT.BORDER);
	data = new FormData();
	data.left = new FormAttachment(0, $context.width$);
	data.right = new FormAttachment(100, 0);
	data.top = new FormAttachment(0, ITabbedPropertyConstants.VSPACE);
	$context.flAttributeName$Combo.setLayoutData(data);

	Label nameLabel = factory.createLabel(composite, &quot;$context.fuAttributeName$&quot;);
	data = new FormData();
	data.left = new FormAttachment(0, 0);
	data.right = new FormAttachment($context.flAttributeName$Combo, -ITabbedPropertyConstants.HSPACE);
	data.top = new FormAttachment($context.flAttributeName$Combo, 0, SWT.CENTER);
	nameLabel.setLayoutData(data);

	$context.flAttributeName$Combo.setItems(new String[] {$context.literalsContent$});
	
	$context.flAttributeName$Combo.addSelectionListener(selectionListener);

}
</string>
    </parameter>
    <finalbranches>default</finalbranches>
    <finalbranches>error</finalbranches>
  </sib>
  <edge>
    <source>73704fb9-e93f-4d5a-acda-413f08113da3</source>
    <target>e42774a1-bf7b-4758-9795-2a0ecdd6d62d</target>
    <point>645.0,675.0</point>
    <point>825.0,675.0</point>
    <labelposition>500.0,0.0</labelposition>
    <branch>default</branch>
  </edge>
  <sib>
    <id>db8782ad-0812-4996-b090-f4ac4b2f7a67</id>
    <name>EvaluateBoolean_1</name>
    <label>isPrimeRefParam</label>
    <sib-uid>basic-sibs/EvaluateBoolean</sib-uid>
    <taxonomy>de.jabc.sib.common.basic.EvaluateBoolean</taxonomy>
    <position>487.0,663.0</position>
    <parameter name="bool">
      <de.metaframe.jabc.framework.sib.parameter.ContextKey>
        <ContextKeyFoundation>
          <key>isPrimeRefParameter</key>
          <scope>GLOBAL</scope>
          <scopeMutable>true</scopeMutable>
        </ContextKeyFoundation>
      </de.metaframe.jabc.framework.sib.parameter.ContextKey>
    </parameter>
    <finalbranches>error</finalbranches>
    <finalbranches>false</finalbranches>
    <finalbranches>true</finalbranches>
  </sib>
  <edge>
    <source>db8782ad-0812-4996-b090-f4ac4b2f7a67</source>
    <target>73704fb9-e93f-4d5a-acda-413f08113da3</target>
    <point>540.0,675.0</point>
    <point>645.0,675.0</point>
    <labelposition>500.0,0.0</labelposition>
    <branch>true</branch>
  </edge>
  <sib>
    <id>4c9f1d39-10c2-4273-9067-de520ad6549b</id>
    <name>RunStringTemplate_9</name>
    <label>GenControl</label>
    <sib-uid>script-sibs/RunStringTemplate</sib-uid>
    <taxonomy>de.jabc.sib.common.script.RunStringTemplate</taxonomy>
    <position>594.0,798.0</position>
    <parameter name="append">
      <boolean>false</boolean>
    </parameter>
    <parameter name="individualVariables">
      <boolean>false</boolean>
    </parameter>
    <parameter name="result">
      <de.metaframe.jabc.framework.sib.parameter.ContextKey>
        <ContextKeyFoundation>
          <key>controlCode</key>
          <scope>PARENT</scope>
          <scopeMutable>true</scopeMutable>
        </ContextKeyFoundation>
      </de.metaframe.jabc.framework.sib.parameter.ContextKey>
    </parameter>
    <parameter name="template">
      <string>private CCombo $context.flAttributeName$Combo;
	
@Override
public void createControls(Composite parent, TabbedPropertySheetPage tabbedPropertySheetPage) {
	super.createControls(parent, tabbedPropertySheetPage);
	TabbedPropertySheetWidgetFactory factory = getWidgetFactory();
	Composite composite = factory.createFlatFormComposite(parent);
	
	FormData data;

	$context.flAttributeName$Combo = factory.createCCombo(composite, SWT.BORDER);
	data = new FormData();
	data.left = new FormAttachment(0, $context.width$);
	data.right = new FormAttachment(100, 0);
	data.top = new FormAttachment(0, ITabbedPropertyConstants.VSPACE);
	$context.flAttributeName$Combo.setLayoutData(data);

	Label nameLabel = factory.createLabel(composite, &quot;$context.fuAttributeName$&quot;);
	data = new FormData();
	data.left = new FormAttachment(0, 0);
	data.right = new FormAttachment($context.flAttributeName$Combo, -ITabbedPropertyConstants.HSPACE);
	data.top = new FormAttachment($context.flAttributeName$Combo, 0, SWT.CENTER);
	nameLabel.setLayoutData(data);
	
	$context.attributeName$Combo.setEditable(false);
	$context.attributeName$Combo.setEnabled(false);

}
</string>
    </parameter>
    <finalbranches>default</finalbranches>
    <finalbranches>error</finalbranches>
  </sib>
  <edge>
    <source>4c9f1d39-10c2-4273-9067-de520ad6549b</source>
    <target>b681f14b-1d46-445e-a90d-d1175891feca</target>
    <spline/>
    <point>645.0,810.0</point>
    <point>1125.0,810.0</point>
    <labelposition>500.0,0.0</labelposition>
    <branch>default</branch>
  </edge>
  <edge>
    <source>db8782ad-0812-4996-b090-f4ac4b2f7a67</source>
    <target>4c9f1d39-10c2-4273-9067-de520ad6549b</target>
    <point>540.0,675.0</point>
    <point>645.0,810.0</point>
    <labelposition>500.0,0.0</labelposition>
    <branch>false</branch>
  </edge>
  <sib>
    <id>b50fcffa-e2ce-4d0d-8f1a-995d5ec815de</id>
    <name>RunStringTemplate_10</name>
    <label>GenListenerCode</label>
    <sib-uid>script-sibs/RunStringTemplate</sib-uid>
    <taxonomy>de.jabc.sib.common.script.RunStringTemplate</taxonomy>
    <position>937.0,663.0</position>
    <parameter name="append">
      <boolean>false</boolean>
    </parameter>
    <parameter name="individualVariables">
      <boolean>false</boolean>
    </parameter>
    <parameter name="result">
      <de.metaframe.jabc.framework.sib.parameter.ContextKey>
        <ContextKeyFoundation>
          <key>listenerCode</key>
          <scope>PARENT</scope>
          <scopeMutable>true</scopeMutable>
        </ContextKeyFoundation>
      </de.metaframe.jabc.framework.sib.parameter.ContextKey>
    </parameter>
    <parameter name="template">
      <string>SelectionListener selectionListener = new SelectionListener() {
		
	@Override
	public void widgetSelected(SelectionEvent e) {
		TransactionalEditingDomain dom = getDiagramContainer().getDiagramBehavior().getEditingDomain();
		dom.getCommandStack().execute(new RecordingCommand(dom, &quot;Set $context.flAttributeName$&quot;) {
			
			@Override
			protected void doExecute() {
				changeValue();
			}
		});
	}

	@Override
	public void widgetDefaultSelected(SelectionEvent e) {
		// TODO Auto-generated method stub
	}

};
</string>
    </parameter>
    <finalbranches>default</finalbranches>
    <finalbranches>error</finalbranches>
  </sib>
  <sib>
    <id>e42774a1-bf7b-4758-9795-2a0ecdd6d62d</id>
    <name>RunStringTemplate_11</name>
    <label>GenChangeValue</label>
    <sib-uid>script-sibs/RunStringTemplate</sib-uid>
    <taxonomy>de.jabc.sib.common.script.RunStringTemplate</taxonomy>
    <position>772.5,663.0</position>
    <parameter name="append">
      <boolean>false</boolean>
    </parameter>
    <parameter name="individualVariables">
      <boolean>false</boolean>
    </parameter>
    <parameter name="result">
      <de.metaframe.jabc.framework.sib.parameter.ContextKey>
        <ContextKeyFoundation>
          <key>changeValueCode</key>
          <scope>PARENT</scope>
          <scopeMutable>true</scopeMutable>
        </ContextKeyFoundation>
      </de.metaframe.jabc.framework.sib.parameter.ContextKey>
    </parameter>
    <parameter name="template">
      <string>EObject bo = Graphiti.getLinkService().getBusinessObjectForLinkedPictogramElement(pe);
if (bo instanceof $context.modelElementName$) {
	$context.fuModelElementName$ tmp = ($context.fuModelElementName$) bo;
	if (tmp.get$context.fuAttributeName$Parameter().get(0) != null)
		tmp.get$context.fuAttributeName$Parameter().get(0).setInstance($context.enum.name$.getByName($context.flAttributeName$Combo.getText()));
}</string>
    </parameter>
    <finalbranches>default</finalbranches>
    <finalbranches>error</finalbranches>
  </sib>
  <edge>
    <source>e42774a1-bf7b-4758-9795-2a0ecdd6d62d</source>
    <target>b50fcffa-e2ce-4d0d-8f1a-995d5ec815de</target>
    <point>825.0,675.0</point>
    <point>1005.0,675.0</point>
    <labelposition>500.0,0.0</labelposition>
    <branch>default</branch>
  </edge>
  <edge>
    <source>b50fcffa-e2ce-4d0d-8f1a-995d5ec815de</source>
    <target>22154a24-e201-471e-a0f7-85421eec3748</target>
    <point>1005.0,675.0</point>
    <point>1125.0,675.0</point>
    <labelposition>500.0,0.0</labelposition>
    <branch>default</branch>
  </edge>
  <sib>
    <id>b681f14b-1d46-445e-a90d-d1175891feca</id>
    <name>RunStringTemplate_12</name>
    <label>GenRefreshCode</label>
    <sib-uid>script-sibs/RunStringTemplate</sib-uid>
    <taxonomy>de.jabc.sib.common.script.RunStringTemplate</taxonomy>
    <position>1058.0,798.0</position>
    <parameter name="append">
      <boolean>false</boolean>
    </parameter>
    <parameter name="individualVariables">
      <boolean>false</boolean>
    </parameter>
    <parameter name="result">
      <de.metaframe.jabc.framework.sib.parameter.ContextKey>
        <ContextKeyFoundation>
          <key>refreshCode</key>
          <scope>PARENT</scope>
          <scopeMutable>true</scopeMutable>
        </ContextKeyFoundation>
      </de.metaframe.jabc.framework.sib.parameter.ContextKey>
    </parameter>
    <parameter name="template">
      <string>$context.fuModelElementName$ $context.meIdentifier$ = null;
PictogramElement pe = getSelectedPictogramElement();
if (pe != null) {
	bo = Graphiti.getLinkService().getBusinessObjectForLinkedPictogramElement(pe);
}
if (bo instanceof $context.fuModelElementName$)
	$context.meIdentifier$ = ($context.fuModelElementName$) bo;
else return;
String id = $context.meIdentifier$.get$context.fuRefTypeName$UID();
EObject referenced = ReferenceRegistry.getInstance().getEObject(Integer.valueOf(id));
EStructuralFeature feature = referenced.eClass().getEStructuralFeature(&quot;$context.attribute.feature.name$&quot;);
Object value = referenced.eGet(feature, true);
if (value != null)
	$context.flAttributeName$Combo.setText( (($context.attributeTypeName$) value).getLiteral());</string>
    </parameter>
    <finalbranches>default</finalbranches>
    <finalbranches>error</finalbranches>
  </sib>
  <parameter>
    <name>eObjectKey</name>
    <field>eObjectKey</field>
    <sib>0d0e9bd4-4a8c-40ec-8c30-eaafbbe0d32d</sib>
  </parameter>
  <values>
    <entry>
      <string>eObjectKey</string>
      <de.metaframe.jabc.framework.sib.parameter.ContextKey>
        <ContextKeyFoundation>
          <key>enumKey</key>
          <scope>DECLARED</scope>
          <scopeMutable>true</scopeMutable>
        </ContextKeyFoundation>
      </de.metaframe.jabc.framework.sib.parameter.ContextKey>
    </entry>
  </values>
  <branch>
    <name>default</name>
    <branch>default</branch>
    <sib>431f9c0c-6d09-4c0c-9305-484f00569c0e</sib>
  </branch>
</model>